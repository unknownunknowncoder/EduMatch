import{c as w,d as Y,r as g,a as ee,o as te,b as l,e as r,f as e,g as i,u as d,F as f,t as a,h as D,i as B,j as v,w as I,v as C,k as se,l as $,m as oe,n as S,p as ae,T as ne,U as L,C as le,q as j,_ as re}from"./index-9cc4628e.js";import{c as ie,B as E,S as R,a as de}from"./coze-api-d0f26758.js";import{useDatabaseStore as ce}from"./database-830f62cb.js";import"./supabase-7d3cd435.js";/**
 * @license lucide-vue-next v0.420.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=w("AwardIcon",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-vue-next v0.420.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=w("BotIcon",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-vue-next v0.420.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=w("ChartColumnIcon",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.420.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=w("ChevronRightIcon",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.420.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=w("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-vue-next v0.420.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=w("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.420.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=w("MonitorPlayIcon",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]);/**
 * @license lucide-vue-next v0.420.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=w("SendIcon",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ve={class:"min-h-screen bg-[#F3F4F6] font-sans text-slate-800 selection:bg-indigo-100 selection:text-indigo-700 pb-20 lg:pb-0"},be={class:"sticky top-0 z-40 w-full backdrop-blur-xl bg-white/70 border-b border-white/50 shadow-sm transition-all duration-300"},fe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between"},we={class:"flex items-center gap-2 group cursor-pointer"},_e={class:"w-8 h-8 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-lg flex items-center justify-center text-white shadow-lg group-hover:scale-110 transition-transform"},ye={class:"flex items-center gap-4"},ke={class:"hidden md:flex items-center gap-2 px-3 py-1.5 rounded-full bg-white border border-slate-200 shadow-sm"},Se={class:"w-6 h-6 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600"},Me={class:"text-sm font-medium text-slate-600"},Ie={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-12 space-y-12"},Ce={class:"grid lg:grid-cols-12 gap-8 items-start"},Ue={class:"lg:col-span-5 xl:col-span-4 space-y-4"},Ae={class:"bg-white rounded-2xl shadow-xl border border-slate-100 overflow-hidden flex flex-col h-[600px] relative"},Be={class:"px-4 py-3 bg-slate-50/80 border-b border-slate-100 flex items-center gap-2 backdrop-blur-sm"},je={key:0,class:"flex gap-3 items-start max-w-[90%]"},Oe={class:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex-shrink-0 flex items-center justify-center text-white shadow-md"},Pe={class:"flex flex-col gap-1"},Ve={class:"bg-slate-100 text-slate-800 px-4 py-3 rounded-2xl rounded-tl-none shadow-sm text-sm leading-relaxed"},Te={key:0,class:"flex items-center space-x-2"},De={key:1},Ee={class:"whitespace-pre-wrap"},He={key:0,class:"mt-6 space-y-4"},qe={class:"flex justify-between items-start gap-4"},ze={class:"flex-1 min-w-0"},Fe={class:"font-semibold text-gray-900 mb-2 leading-tight"},Ne={class:"text-sm text-gray-600 mb-3 line-clamp-2"},$e={class:"flex flex-wrap items-center gap-3 text-xs"},Le={class:"inline-flex items-center px-2.5 py-1.5 rounded-full bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 font-medium"},Re={key:0,class:"text-gray-500"},Je={key:1,class:"text-gray-500"},Ke={class:"text-[10px] text-slate-400 ml-1"},Qe={key:1,class:"flex gap-3 items-start flex-row-reverse max-w-[90%] ml-auto"},Ze={class:"w-8 h-8 rounded-full bg-slate-800 flex-shrink-0 flex items-center justify-center text-white shadow-md"},Ge={class:"flex flex-col gap-1 items-end"},We={class:"bg-indigo-600 text-white px-4 py-3 rounded-2xl rounded-tr-none shadow-md text-sm leading-relaxed"},Xe={class:"text-[10px] text-slate-400 mr-1"},Ye={class:"p-4 bg-white border-t border-slate-100"},et={key:0,class:"flex gap-2 overflow-x-auto pb-3 mb-1 no-scrollbar"},tt=["onClick"],st={class:"relative"},ot=["onKeydown"],at=["disabled"],nt={key:1,class:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"},lt={class:"lg:col-span-7 xl:col-span-8 space-y-6"},rt={key:0,class:"h-full flex flex-col justify-center space-y-6 opacity-60 hover:opacity-100 transition-opacity"},it={class:"grid md:grid-cols-3 gap-4"},dt={class:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-all group"},ct={class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 mb-4 group-hover:scale-110 transition-transform"},ut={class:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-all group"},mt={class:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center text-green-600 mb-4 group-hover:scale-110 transition-transform"},pt={class:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition-all group"},xt={class:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center text-orange-600 mb-4 group-hover:scale-110 transition-transform"},ht={class:"text-center text-slate-400 flex items-center justify-center gap-2"},gt={class:"relative group"},vt={class:"relative bg-white rounded-xl p-6 md:p-8 shadow-xl ring-1 ring-slate-900/5"},bt={class:"flex items-center justify-between mb-4"},ft={class:"flex items-center gap-2 text-indigo-600 font-semibold bg-indigo-50 px-3 py-1 rounded-full text-sm"},wt={class:"flex items-center gap-2 text-slate-500 text-sm"},_t={class:"flex flex-col md:flex-row gap-6 items-start"},yt={class:"flex-1"},kt={class:"text-2xl font-bold text-slate-900 mb-2 group-hover:text-indigo-700 transition-colors"},St={class:"text-slate-600 mb-4 leading-relaxed"},Mt={class:"flex flex-wrap gap-3 text-sm mb-6"},It={class:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 border border-slate-200"},Ct={class:"px-2.5 py-1 rounded-md bg-slate-100 text-slate-600 border border-slate-200"},Ut={class:"flex items-center gap-1 px-2.5 py-1 rounded-md bg-orange-50 text-orange-700 border border-orange-100"},At={class:"flex items-center gap-1 px-2.5 py-1 rounded-md bg-blue-50 text-blue-700 border border-blue-100"},Bt={class:"w-full md:w-auto flex-shrink-0"},jt=["href"],Ot={class:"mt-2 text-center text-xs text-slate-400 font-mono"},Pt={key:0,class:"bg-gradient-to-br from-emerald-50 to-teal-50 border border-emerald-100 rounded-xl p-6 shadow-sm"},Vt={class:"flex items-start gap-4"},Tt={class:"bg-emerald-100 p-2 rounded-lg text-emerald-600"},Dt={class:"text-emerald-800/80 text-sm leading-relaxed"},Et={class:"flex items-center justify-between mb-4 px-1"},Ht={class:"font-bold text-slate-800 flex items-center gap-2"},qt={class:"text-xs font-medium bg-slate-200 text-slate-600 px-2 py-0.5 rounded-full"},zt={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-4"},Ft={class:"flex justify-between items-start mb-2"},Nt={class:"text-xs text-slate-400"},$t={class:"font-bold text-slate-800 line-clamp-1 mb-1 group-hover:text-indigo-600 transition-colors"},Lt={class:"text-xs text-slate-500 line-clamp-2 mb-3 h-8"},Rt={class:"flex items-center justify-between pt-3 border-t border-slate-50"},Jt={class:"text-xs text-slate-400 font-medium"},Kt=["href"],Qt={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm px-4"},Zt={class:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden"},Gt={class:"flex items-center justify-between px-6 py-4 border-b border-slate-100"},Wt={class:"text-xl font-semibold text-slate-800 mt-1"},Xt={class:"px-6 pt-6"},Yt={class:"flex gap-3 mb-6"},es={key:0},ts={key:1},ss=["disabled"],os=Y({__name:"Home",setup(as){const U=ce(),b=g(null),M=g(!1),y=g(""),k=g([{role:"assistant",content:"我是您的专属学习助手，告诉我您的学习需求，为您推荐最合适的学习资源。",timestamp:new Date().toISOString()}]),_=g(null),u=g({top_recommendation:null,other_recommendations:[],learning_advice:""}),Q=["我想考英语六级","Python数据分析入门","零基础学React","考研数学复习计划"],Z=()=>{localStorage.removeItem("currentUser"),b.value=null,alert("已退出登录")},O=g(!1),h=g("login"),A=g(!1),m=g(""),p=g("success"),n=ee({username:"",password:"",confirmPassword:"",nickname:""}),H=()=>{n.username="",n.password="",n.confirmPassword="",n.nickname="",m.value="",p.value="success"},q=o=>{h.value=o,H(),O.value=!0},z=o=>{h.value!==o&&(h.value=o,n.password="",n.confirmPassword="",m.value="")},P=()=>{O.value=!1,H()},G=()=>{const o=localStorage.getItem("currentUser");if(o)try{b.value=JSON.parse(o)}catch(t){console.error("解析用户数据失败:",t),localStorage.removeItem("currentUser"),b.value=null}},F=o=>new Date(o).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),V=async()=>{const o=y.value.trim();if(!o||M.value)return;k.value.push({role:"user",content:o,timestamp:new Date().toISOString()}),y.value="",M.value=!0;const t=k.value.push({role:"assistant",content:"",timestamp:new Date().toISOString(),loading:!0,resources:[]})-1;setTimeout(()=>{_.value&&(_.value.scrollTop=_.value.scrollHeight)},100);try{const s=await ie.searchRecommendations({query:o}),x=[];s.top_recommendation&&x.push({name:s.top_recommendation.name,description:s.top_recommendation.reason||"这是一个非常优质的学习资源",platform:s.top_recommendation.platform||"B站",difficulty:s.top_recommendation.difficulty||"进阶",duration:s.top_recommendation.duration||"待确认",url:s.top_recommendation.platform==="B站"&&s.top_recommendation.bv_number?`https://www.bilibili.com/video/${s.top_recommendation.bv_number}`:void 0}),s.other_recommendations&&s.other_recommendations.length>0&&x.push(...s.other_recommendations.map(c=>({name:c.name,description:c.reason||"推荐学习资源",platform:c.platform,difficulty:c.difficulty,duration:c.duration,url:c.platform==="B站"&&c.bv_number?`https://www.bilibili.com/video/${c.bv_number}`:void 0}))),k.value[t]={role:"assistant",content:s.learning_advice||"我来为您推荐一些优质的学习资源：",timestamp:new Date().toISOString(),resources:x},u.value=s}catch(s){console.error("❌ 对话失败:",s),k.value[t]={role:"assistant",content:`抱歉，暂时无法处理您的请求：${s.message||"未知错误"}。请稍后再试。`,timestamp:new Date().toISOString(),resources:[]}}finally{M.value=!1,setTimeout(()=>{_.value&&(_.value.scrollTop=_.value.scrollHeight)},100)}},W=o=>{y.value=o,V()};async function N(o){const s=new TextEncoder().encode(o),x=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(x)).map(T=>T.toString(16).padStart(2,"0")).join("")}const X=async()=>{if(!n.username||!n.password){m.value="请填写完整信息",p.value="error";return}if(h.value==="register"){if(n.username.length<3){m.value="用户名至少为3个字符",p.value="error";return}if(n.password.length<6){m.value="密码长度至少为6位",p.value="error";return}if(n.password!==n.confirmPassword){m.value="两次输入的密码不一致",p.value="error";return}}A.value=!0,m.value="";try{if(h.value==="login"){const o=await U.getUserByUsername(n.username);if(!o){m.value="用户不存在",p.value="error";return}const t=await N(n.password);if(o.password_hash!==t){m.value="密码错误",p.value="error";return}const s={id:o.id,username:o.username,email:o.email,nickname:o.nickname,avatar_url:o.avatar_url};localStorage.setItem("currentUser",JSON.stringify(s)),b.value=s,m.value="登录成功",p.value="success",setTimeout(()=>{P()},600)}else{if(await U.getUserByUsername(n.username)){m.value="该用户名已被注册",p.value="error";return}const t=await N(n.password);await U.createUser({username:n.username,nickname:n.nickname||void 0,password_hash:t});const s=await U.getUserByUsername(n.username);if(s){const x={id:s.id,username:s.username,email:s.email,nickname:s.nickname,avatar_url:s.avatar_url};localStorage.setItem("currentUser",JSON.stringify(x)),b.value=x,m.value="注册成功，已自动登录",p.value="success",setTimeout(()=>{P()},800)}else m.value="注册成功，但获取用户信息失败，请尝试登录",p.value="error"}}catch(o){console.error("认证失败:",o),m.value="操作失败，请稍后重试",p.value="error"}finally{A.value=!1}};return te(()=>{G()}),(o,t)=>(l(),r("div",ve,[e("header",be,[e("div",fe,[e("div",we,[e("div",_e,[i(d(E),{class:"w-5 h-5"})]),t[9]||(t[9]=e("span",{class:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-700 to-purple-700"}," EduMatch ",-1))]),e("div",ye,[b.value?(l(),r(f,{key:0},[e("div",ke,[e("div",Se,[i(d(L),{class:"w-3.5 h-3.5"})]),e("span",Me,a(b.value.username||b.value.email),1)]),e("button",{onClick:Z,class:"text-slate-500 hover:text-red-500 transition-colors p-2 rounded-full hover:bg-red-50",title:"退出登录"},[i(d(xe),{class:"w-5 h-5"})])],64)):(l(),r(f,{key:1},[e("button",{onClick:t[0]||(t[0]=s=>q("login")),class:"text-sm font-medium text-slate-600 hover:text-indigo-600 transition-colors"},"登录"),e("button",{onClick:t[1]||(t[1]=s=>q("register")),class:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-full hover:bg-indigo-700 shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5"},"注册")],64))])])]),e("main",Ie,[t[26]||(t[26]=D('<div class="text-center space-y-6 max-w-3xl mx-auto animate-fade-in-up" data-v-2dc54a20><h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tight text-slate-900" data-v-2dc54a20><span class="block" data-v-2dc54a20>学配智联平台</span><span class="block mt-2 text-2xl md:text-3xl font-medium text-slate-500" data-v-2dc54a20> 智能匹配您的 <span class="text-indigo-600 decoration-indigo-300 underline decoration-4 underline-offset-4" data-v-2dc54a20>学习需求</span></span></h1><p class="text-lg text-slate-600 max-w-2xl mx-auto" data-v-2dc54a20> 基于 AI 算法，为您精准推荐 B站、MOOC 等全网优质资源。让学习更高效，路径更清晰。 </p></div>',1)),e("div",Ce,[e("div",Ue,[e("div",Ae,[e("div",Be,[i(d(me),{class:"w-5 h-5 text-indigo-600"}),t[10]||(t[10]=D('<span class="font-semibold text-slate-700" data-v-2dc54a20>AI 学习助手</span><div class="ml-auto flex gap-1.5" data-v-2dc54a20><span class="w-2.5 h-2.5 rounded-full bg-red-400" data-v-2dc54a20></span><span class="w-2.5 h-2.5 rounded-full bg-yellow-400" data-v-2dc54a20></span><span class="w-2.5 h-2.5 rounded-full bg-green-400" data-v-2dc54a20></span></div>',2))]),e("div",{ref_key:"chatContainer",ref:_,class:"flex-1 overflow-y-auto p-4 space-y-6 scroll-smooth custom-scrollbar"},[(l(!0),r(f,null,B(k.value,(s,x)=>(l(),r(f,{key:x},[s.role==="assistant"?(l(),r("div",je,[e("div",Oe,[i(d(R),{class:"w-4 h-4"})]),e("div",Pe,[e("div",Ve,[s.loading?(l(),r("div",Te,[...t[11]||(t[11]=[D('<span class="flex gap-1" data-v-2dc54a20><span class="w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce" style="animation-delay:0ms;" data-v-2dc54a20></span><span class="w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce" style="animation-delay:150ms;" data-v-2dc54a20></span><span class="w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce" style="animation-delay:300ms;" data-v-2dc54a20></span></span><span class="text-xs text-slate-500" data-v-2dc54a20>思考中...</span>',2)])])):(l(),r("div",De,[e("div",Ee,a(s.content),1),s.resources&&s.resources.length>0?(l(),r("div",He,[(l(!0),r(f,null,B(s.resources,(c,T)=>(l(),r("div",{key:T,class:"bg-white rounded-xl p-5 shadow-sm border border-gray-100 hover:shadow-md hover:border-blue-200 transition-all duration-200"},[e("div",qe,[e("div",ze,[e("h4",Fe,a(c.name),1),e("p",Ne,a(c.description),1),e("div",$e,[e("span",Le,a(c.platform),1),c.difficulty?(l(),r("span",Re,a(c.difficulty),1)):v("",!0),c.duration?(l(),r("span",Je,a(c.duration),1)):v("",!0)])])])]))),128))])):v("",!0)]))]),e("span",Ke,a(F(s.timestamp)),1)])])):(l(),r("div",Qe,[e("div",Ze,[i(d(L),{class:"w-4 h-4"})]),e("div",Ge,[e("div",We,a(s.content),1),e("span",Xe,a(F(s.timestamp)),1)])]))],64))),128))],512),e("div",Ye,[k.value.length<2?(l(),r("div",et,[(l(),r(f,null,B(Q,s=>e("button",{key:s,onClick:x=>W(s),class:"whitespace-nowrap px-3 py-1 text-xs bg-indigo-50 text-indigo-600 rounded-full border border-indigo-100 hover:bg-indigo-100 transition-colors"},a(s),9,tt)),64))])):v("",!0),e("div",st,[I(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=s=>y.value=s),onKeydown:se($(V,["exact","prevent"]),["enter"]),placeholder:"输入您的学习需求，例如：我想学习前端开发...",class:"w-full pl-4 pr-12 py-3 bg-slate-50 border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none text-sm shadow-inner transition-all",rows:"2"},null,40,ot),[[C,y.value]]),e("button",{onClick:V,disabled:M.value||!y.value.trim(),class:"absolute right-2 bottom-2.5 p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg"},[M.value?(l(),r("div",nt)):(l(),oe(d(ge),{key:0,class:"w-4 h-4"}))],8,at)]),t[12]||(t[12]=e("p",{class:"text-[10px] text-slate-400 mt-2 text-center"},"按 Enter 发送，Shift + Enter 换行",-1))])])]),e("div",lt,[!u.value.top_recommendation&&u.value.other_recommendations.length===0?(l(),r("div",rt,[e("div",it,[e("div",dt,[e("div",ct,[i(d(he),{class:"w-6 h-6"})]),t[13]||(t[13]=e("h3",{class:"font-bold text-slate-800 mb-2"},"智能匹配",-1)),t[14]||(t[14]=e("p",{class:"text-sm text-slate-500"},"AI 深度分析您的需求，从海量资源中找到最适合您的课程。",-1))]),e("div",ut,[e("div",mt,[i(d(E),{class:"w-6 h-6"})]),t[15]||(t[15]=e("h3",{class:"font-bold text-slate-800 mb-2"},"海量资源",-1)),t[16]||(t[16]=e("p",{class:"text-sm text-slate-500"},"覆盖 B站、MOOC 等主流平台，从入门到精通全覆盖。",-1))]),e("div",pt,[e("div",xt,[i(d(J),{class:"w-6 h-6"})]),t[17]||(t[17]=e("h3",{class:"font-bold text-slate-800 mb-2"},"科学建议",-1)),t[18]||(t[18]=e("p",{class:"text-sm text-slate-500"},"不仅提供资源，还为您生成科学的学习路径和建议。",-1))])]),e("div",ht,[i(d(de),{class:"w-4 h-4"}),t[19]||(t[19]=e("span",null,"请在左侧输入需求获取推荐",-1))])])):(l(),r(f,{key:1},[e("div",gt,[t[22]||(t[22]=e("div",{class:"absolute -inset-0.5 bg-gradient-to-r from-pink-500 to-indigo-500 rounded-2xl blur opacity-30 group-hover:opacity-60 transition duration-1000 group-hover:duration-200"},null,-1)),e("div",vt,[e("div",bt,[e("div",ft,[i(d(R),{class:"w-4 h-4"}),t[20]||(t[20]=S(" AI 最推荐 ",-1))]),e("div",wt,[i(d(ue),{class:"w-4 h-4 text-yellow-500"}),e("span",null,a(u.value.top_recommendation.study_data),1)])]),e("div",_t,[e("div",yt,[e("h2",kt,a(u.value.top_recommendation.name),1),e("p",St,a(u.value.top_recommendation.reason),1),e("div",Mt,[e("span",It,a(u.value.top_recommendation.platform),1),e("span",Ct,a(u.value.top_recommendation.institution||"个人UP主"),1),e("span",Ut,[i(d(J),{class:"w-3 h-3"}),S(" "+a(u.value.top_recommendation.difficulty),1)]),e("span",At,[i(d(pe),{class:"w-3 h-3"}),S(" "+a(u.value.top_recommendation.duration),1)])])]),e("div",Bt,[e("a",{href:"https://www.bilibili.com/video/"+u.value.top_recommendation.bv_number,target:"_blank",class:"flex items-center justify-center gap-2 w-full md:w-40 bg-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-indigo-700 shadow-lg hover:shadow-indigo-500/30 transition-all transform active:scale-95"},[t[21]||(t[21]=S(" 立即学习 ",-1)),i(d(K),{class:"w-4 h-4"})],8,jt),e("div",Ot," BV: "+a(u.value.top_recommendation.bv_number),1)])])])]),u.value.learning_advice?(l(),r("div",Pt,[e("div",Vt,[e("div",Tt,[i(d(E),{class:"w-6 h-6"})]),e("div",null,[t[23]||(t[23]=e("h3",{class:"font-bold text-emerald-900 mb-1"},"AI 学习建议",-1)),e("p",Dt,a(u.value.learning_advice),1)])])])):v("",!0),e("div",null,[e("div",Et,[e("h3",Ht,[i(d(le),{class:"w-5 h-5 text-slate-400"}),t[24]||(t[24]=S(" 其他推荐 ",-1))]),e("span",qt,a(u.value.other_recommendations.length),1)]),e("div",zt,[(l(!0),r(f,null,B(u.value.other_recommendations,(s,x)=>(l(),r("div",{key:x,class:"bg-white p-5 rounded-xl border border-slate-100 shadow-sm hover:shadow-md hover:-translate-y-1 transition-all group cursor-pointer"},[e("div",Ft,[e("span",{class:j([s.platform==="B站"?"text-pink-500 bg-pink-50":"text-green-600 bg-green-50","text-[10px] font-bold px-2 py-0.5 rounded border border-current opacity-80"])},a(s.platform),3),e("span",Nt,a(s.duration),1)]),e("h4",$t,a(s.name),1),e("p",Lt,a(s.brief_description),1),e("div",Rt,[e("span",Jt,a(s.difficulty),1),e("a",{href:"https://www.bilibili.com/video/"+s.bv_number,target:"_blank",class:"text-xs font-bold text-indigo-600 hover:underline flex items-center gap-0.5"},[t[25]||(t[25]=S(" 去观看 ",-1)),i(d(K),{class:"w-3 h-3"})],8,Kt)])]))),128))])])],64))])])]),i(ne,{name:"fade"},{default:ae(()=>[O.value?(l(),r("div",Qt,[e("div",Zt,[e("div",Gt,[e("div",null,[t[27]||(t[27]=e("p",{class:"text-xs uppercase tracking-widest text-slate-400"},"账户中心",-1)),e("h3",Wt,a(h.value==="login"?"登录 EduMatch":"注册新账号"),1)]),e("button",{onClick:P,class:"p-2 rounded-full text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-colors"}," ✕ ")]),e("div",Xt,[e("div",Yt,[e("button",{onClick:t[3]||(t[3]=s=>z("login")),class:j(["flex-1 py-2 rounded-xl border transition-all font-medium",h.value==="login"?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-200":"border-slate-200 text-slate-500 hover:border-indigo-200 hover:text-indigo-600"])}," 登录 ",2),e("button",{onClick:t[4]||(t[4]=s=>z("register")),class:j(["flex-1 py-2 rounded-xl border transition-all font-medium",h.value==="register"?"bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-200":"border-slate-200 text-slate-500 hover:border-indigo-200 hover:text-indigo-600"])}," 注册 ",2)])]),e("form",{onSubmit:$(X,["prevent"]),class:"px-6 pb-6 space-y-4"},[e("div",null,[t[28]||(t[28]=e("label",{class:"text-sm font-medium text-slate-600 mb-1 block"},"用户名",-1)),I(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>n.username=s),type:"text",required:"",class:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"请输入用户名"},null,512),[[C,n.username]])]),h.value==="register"?(l(),r("div",es,[t[29]||(t[29]=e("label",{class:"text-sm font-medium text-slate-600 mb-1 block"},"昵称（可选）",-1)),I(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>n.nickname=s),type:"text",class:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"给自己起个名字吧"},null,512),[[C,n.nickname]])])):v("",!0),e("div",null,[t[30]||(t[30]=e("label",{class:"text-sm font-medium text-slate-600 mb-1 block"},"密码",-1)),I(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>n.password=s),type:"password",minlength:"6",required:"",class:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"至少 6 位字符"},null,512),[[C,n.password]])]),h.value==="register"?(l(),r("div",ts,[t[31]||(t[31]=e("label",{class:"text-sm font-medium text-slate-600 mb-1 block"},"确认密码",-1)),I(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>n.confirmPassword=s),type:"password",minlength:"6",required:"",class:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"再次输入密码"},null,512),[[C,n.confirmPassword]])])):v("",!0),m.value?(l(),r("div",{key:2,class:j(["p-3 rounded-xl text-sm border",p.value==="success"?"bg-emerald-50 text-emerald-700 border-emerald-100":"bg-red-50 text-red-600 border-red-100"])},a(m.value),3)):v("",!0),e("button",{type:"submit",disabled:A.value,class:"w-full py-3 rounded-xl font-semibold text-white bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-200 transition-all disabled:opacity-60 disabled:cursor-not-allowed"},a(A.value?"处理中...":h.value==="login"?"立即登录":"确认注册"),9,ss),t[32]||(t[32]=e("p",{class:"text-xs text-center text-slate-400"},"继续即表示同意平台的隐私政策与使用条款",-1))],32)])])):v("",!0)]),_:1})]))}});const ds=re(os,[["__scopeId","data-v-2dc54a20"],["__file","E:/前端初级课程/program/EduMatch/src/views/Home.vue"]]);export{ds as default};
