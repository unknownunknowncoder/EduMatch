import{c as P,d as $,s as I,r as c,o as E,b as d,e as n,f as t,h as g,u as m,w as x,v as K,k as L,t as r,y as k,i as F,g as i,p as f,F as w,j as R,n as N,_ as q}from"./index-0e60331d.js";import{S as D,c as z}from"./coze-api-8f18038e.js";import{A as T}from"./arrow-left-38377726.js";import{S as C}from"./search-bc78feee.js";import{B as U}from"./book-open-67c82c70.js";/**
 * @license lucide-vue-next v0.420.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=P("LightbulbIcon",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),W={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},G={class:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700"},H={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},J={class:"flex items-center space-x-4"},X={class:"flex-1"},Y={class:"relative"},Z=["disabled"],tt={class:"flex items-center space-x-4 mt-4"},et={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ot={key:0,class:"space-y-8"},at={key:0},st={class:"mb-6"},rt={class:"flex items-center mb-4"},dt={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 mb-6 border border-blue-200 dark:border-blue-700"},nt={class:"flex items-start space-x-4"},lt={class:"flex-1"},it={class:"flex items-center space-x-2 mb-2"},ut={class:"text-sm text-gray-500 dark:text-gray-400"},ct={class:"text-xl font-bold text-gray-900 dark:text-white mb-2"},gt={class:"text-gray-600 dark:text-gray-300 mb-4"},mt={class:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4"},bt={class:"font-semibold text-gray-900 dark:text-white"},pt={class:"font-semibold text-gray-900 dark:text-white"},xt={class:"font-semibold text-gray-900 dark:text-white"},vt={key:0},yt={class:"font-semibold text-gray-900 dark:text-white"},_t={key:1},ht={class:"font-semibold text-gray-900 dark:text-white"},kt={class:"bg-blue-100 dark:bg-blue-800/30 rounded-lg p-3 mb-4"},ft={class:"text-sm text-blue-800 dark:text-blue-200"},wt={class:"flex space-x-3"},Rt={key:1},Ct={class:"flex items-center justify-between mb-4"},St={class:"text-sm text-gray-500 dark:text-gray-400"},Mt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Ot=["onClick"],Bt={class:"p-6"},At={class:"flex items-center justify-between mb-3"},Vt={class:"font-bold text-lg text-gray-900 dark:text-white mb-2 line-clamp-2"},jt={class:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-3"},Pt={class:"space-y-2"},$t={class:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400"},It={key:0,class:"text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-2 py-1 rounded"},Et={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},Kt={key:2,class:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 border border-green-200 dark:border-green-700"},Lt={class:"flex items-center mb-3"},Ft={class:"text-gray-700 dark:text-gray-300 leading-relaxed"},Nt={key:3,class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},qt={class:"flex flex-wrap gap-2"},Dt=["onClick"],zt={key:1,class:"text-center py-12"},Tt={class:"max-w-md mx-auto"},Ut={key:2,class:"text-center py-12"},Qt={class:"max-w-md mx-auto"},Wt=$({__name:"SearchPage",setup(Gt){const v=I(),l=c(""),u=c(!1),b=c(!1),s=c(null),y=c(""),_=c(""),p=async()=>{if(!(!l.value.trim()||u.value)){u.value=!0,b.value=!0;try{const o=await z.searchRecommendations({query:l.value.trim()});s.value={topRecommendation:{id:"top",title:o.top_recommendation.name,description:o.top_recommendation.reason,provider:o.top_recommendation.platform==="ä¸­å›½å¤§å­¦MOOCå®˜ç½‘"?"MOOC":"Bilibili",url:o.top_recommendation.bv_number?`https://www.bilibili.com/video/${o.top_recommendation.bv_number}`:void 0,difficulty:o.top_recommendation.difficulty,duration:o.top_recommendation.duration,matchScore:.9,recommendedReason:o.top_recommendation.reason,bv_number:o.top_recommendation.bv_number,study_data:o.top_recommendation.study_data,up_host:o.top_recommendation.up_host},otherRecommendations:o.other_recommendations.map((e,a)=>({id:`other_${a}`,title:e.name,description:e.reason,provider:e.platform==="ä¸­å›½å¤§å­¦MOOCå®˜ç½‘"?"MOOC":"Bilibili",url:e.bv_number?`https://www.bilibili.com/video/${e.bv_number}`:void 0,difficulty:e.difficulty,duration:e.duration,matchScore:.7-a*.1,recommendedReason:e.reason,bv_number:e.bv_number,study_data:e.study_data,up_host:e.up_host})),learningAdvice:o.learning_advice,relatedKeywords:[]}}catch(o){console.error("æœç´¢å¤±è´¥:",o)}finally{u.value=!1}}},S=()=>{v.back()},h=o=>{o.url&&window.open(o.url,"_blank")},M=o=>{console.log("æ”¶è—èµ„æº:",o)},O=o=>{l.value=o,p()},B=()=>{l.value="",s.value=null,b.value=!1},A=()=>{const o=["Vue.js","Python","å‰ç«¯å¼€å‘","æ•°æ®åˆ†æ","æœºå™¨å­¦ä¹ "];l.value=o[Math.floor(Math.random()*o.length)]},V=o=>o==="MOOC"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200";return E(()=>{const o=v.currentRoute.value.query.q;o&&(l.value=o,p())}),(o,e)=>(d(),n("div",W,[t("div",G,[t("div",H,[t("div",J,[t("button",{onClick:S,class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},[g(m(T),{class:"h-5 w-5 text-gray-600 dark:text-gray-400"})]),t("div",X,[t("div",Y,[g(m(C),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),x(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),onKeyup:L(p,["enter"]),type:"text",placeholder:"æœç´¢è¯¾ç¨‹ã€è§†é¢‘ã€æŠ€èƒ½...",class:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"},null,544),[[K,l.value]]),t("button",{onClick:p,disabled:u.value||!l.value.trim(),class:"absolute right-2 top-1/2 transform -translate-y-1/2 px-4 py-1.5 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white text-sm rounded-md transition-colors"},r(u.value?"æœç´¢ä¸­...":"æœç´¢"),9,Z)])])]),t("div",tt,[x(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>y.value=a),class:"px-3 py-1.5 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"},[...e[5]||(e[5]=[t("option",{value:""},"å…¨éƒ¨éš¾åº¦",-1),t("option",{value:"beginner"},"åˆå­¦è€…",-1),t("option",{value:"intermediate"},"è¿›é˜¶",-1),t("option",{value:"advanced"},"é«˜çº§",-1)])],512),[[k,y.value]]),x(t("select",{"onUpdate:modelValue":e[2]||(e[2]=a=>_.value=a),class:"px-3 py-1.5 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-sm text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"},[...e[6]||(e[6]=[F('<option value="" data-v-4d270a57>å…¨éƒ¨åˆ†ç±»</option><option value="frontend" data-v-4d270a57>å‰ç«¯å¼€å‘</option><option value="backend" data-v-4d270a57>åç«¯å¼€å‘</option><option value="mobile" data-v-4d270a57>ç§»åŠ¨å¼€å‘</option><option value="ai" data-v-4d270a57>äººå·¥æ™ºèƒ½</option><option value="data" data-v-4d270a57>æ•°æ®ç§‘å­¦</option><option value="design" data-v-4d270a57>è®¾è®¡</option>',7)])],512),[[k,_.value]])])])]),t("div",et,[s.value?(d(),n("div",ot,[s.value.topRecommendation&&!s.value.topRecommendation.id.startsWith("fallback")?(d(),n("div",at,[t("div",st,[t("div",rt,[g(m(D),{class:"h-6 w-6 text-blue-500 mr-2"}),e[7]||(e[7]=t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"AI æ™ºèƒ½æ¨è",-1))]),t("div",dt,[t("div",nt,[e[15]||(e[15]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-3 h-3 bg-blue-500 rounded-full mt-2"})],-1)),t("div",lt,[t("div",it,[e[8]||(e[8]=t("span",{class:"text-xs font-semibold bg-blue-500 text-white px-2 py-1 rounded"},"æœ€æ¨è",-1)),t("span",ut," åŒ¹é…åº¦: "+r(Math.round(s.value.topRecommendation.matchScore*100))+"% ",1)]),t("h3",ct,r(s.value.topRecommendation.title),1),t("p",gt,r(s.value.topRecommendation.description),1),t("div",mt,[t("div",null,[e[9]||(e[9]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"å¹³å°",-1)),t("p",bt,r(s.value.topRecommendation.provider==="MOOC"?"ä¸­å›½å¤§å­¦MOOC":"Bç«™"),1)]),t("div",null,[e[10]||(e[10]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"éš¾åº¦",-1)),t("p",pt,r(s.value.topRecommendation.difficulty),1)]),t("div",null,[e[11]||(e[11]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"æ—¶é•¿",-1)),t("p",xt,r(s.value.topRecommendation.duration),1)]),s.value.topRecommendation.bv_number?(d(),n("div",vt,[e[12]||(e[12]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"BVå·",-1)),t("p",yt,r(s.value.topRecommendation.bv_number),1)])):i("",!0),s.value.topRecommendation.study_data&&s.value.topRecommendation.study_data!=="æš‚æ— æ•°æ®"?(d(),n("div",_t,[e[13]||(e[13]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"æ’­æ”¾é‡",-1)),t("p",ht,r(s.value.topRecommendation.study_data),1)])):i("",!0)]),t("div",kt,[t("p",ft,[e[14]||(e[14]=t("strong",null,"æ¨èç†ç”±ï¼š",-1)),f(r(s.value.topRecommendation.recommendedReason),1)])]),t("div",wt,[t("button",{onClick:e[3]||(e[3]=a=>h(s.value.topRecommendation)),class:"px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors"}," ç«‹å³å­¦ä¹  "),t("button",{onClick:e[4]||(e[4]=a=>M(s.value.topRecommendation)),class:"px-6 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors"}," æ”¶è— ")])])])])])])):i("",!0),s.value.otherRecommendations.length>0?(d(),n("div",Rt,[t("div",Ct,[e[16]||(e[16]=t("h3",{class:"text-xl font-bold text-gray-900 dark:text-white"},"å…¶ä»–æ¨è",-1)),t("span",St," æ‰¾åˆ° "+r(s.value.otherRecommendations.length)+" ä¸ªç›¸å…³èµ„æº ",1)]),t("div",Mt,[(d(!0),n(w,null,R(s.value.otherRecommendations,a=>(d(),n("div",{key:a.id,class:"bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer",onClick:j=>h(a)},[t("div",Bt,[t("div",At,[t("span",{class:N(`px-2 py-1 text-xs font-semibold rounded ${V(a.provider)}`)},r(a.provider==="MOOC"?"ä¸­å›½å¤§å­¦MOOC":"Bç«™"),3)]),t("h4",Vt,r(a.title),1),t("p",jt,r(a.description),1),t("div",Pt,[t("div",$t,[t("span",null,r(a.difficulty)+" Â· "+r(a.duration),1),a.bv_number?(d(),n("div",It," BV: "+r(a.bv_number),1)):i("",!0)]),a.study_data&&a.study_data!=="æš‚æ— æ•°æ®"?(d(),n("div",Et,[e[17]||(e[17]=t("span",{class:"mr-1"},"ğŸ‘ï¸",-1)),f(" æ’­æ”¾é‡: "+r(a.study_data),1)])):i("",!0),e[18]||(e[18]=t("div",{class:"flex items-center justify-between"},[t("div"),t("div",{class:"text-blue-500 hover:text-blue-600"}," æŸ¥çœ‹è¯¦æƒ… â†’ ")],-1))])])],8,Ot))),128))])])):i("",!0),s.value.learningAdvice?(d(),n("div",Kt,[t("div",Lt,[g(m(Q),{class:"h-6 w-6 text-green-500 mr-2"}),e[19]||(e[19]=t("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"AI å­¦ä¹ å»ºè®®",-1))]),t("p",Ft,r(s.value.learningAdvice),1)])):i("",!0),s.value.relatedKeywords.length>0?(d(),n("div",Nt,[e[20]||(e[20]=t("h4",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"},"ç›¸å…³æœç´¢",-1)),t("div",qt,[(d(!0),n(w,null,R(s.value.relatedKeywords,a=>(d(),n("button",{key:a,onClick:j=>O(a),class:"px-3 py-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-full text-sm text-gray-700 dark:text-gray-300 hover:border-blue-500 hover:text-blue-500 transition-colors"},r(a),9,Dt))),128))])])):i("",!0)])):!u.value&&b.value?(d(),n("div",zt,[t("div",Tt,[g(m(C),{class:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e[21]||(e[21]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"}," æ²¡æœ‰æ‰¾åˆ°ç›¸å…³èµ„æº ",-1)),e[22]||(e[22]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-6"}," è¯•è¯•è°ƒæ•´å…³é”®è¯æˆ–é€‰æ‹©ä¸åŒçš„ç­›é€‰æ¡ä»¶ ",-1)),t("div",{class:"flex justify-center space-x-4"},[t("button",{onClick:B,class:"px-6 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"}," æ¸…ç©ºæœç´¢ "),t("button",{onClick:A,class:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"}," çƒ­é—¨æœç´¢ ")])])])):b.value?i("",!0):(d(),n("div",Ut,[t("div",Qt,[g(m(U),{class:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),e[23]||(e[23]=t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"}," å¼€å§‹æœç´¢å­¦ä¹ èµ„æº ",-1)),e[24]||(e[24]=t("p",{class:"text-gray-500 dark:text-gray-400"}," è¾“å…¥æ‚¨æƒ³å­¦ä¹ çš„æŠ€èƒ½æˆ–è¯¾ç¨‹ï¼ŒAI å°†ä¸ºæ‚¨æ™ºèƒ½åŒ¹é…æœ€ä½³èµ„æº ",-1))])]))])]))}});const te=q(Wt,[["__scopeId","data-v-4d270a57"],["__file","E:/å‰ç«¯åˆçº§è¯¾ç¨‹/program/EduMatch/src/views/SearchPage.vue"]]);export{te as default};
