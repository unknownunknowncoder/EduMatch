import{d as R,r as b,A as $,B as ue,b as m,e as p,f as t,t as c,w as T,v as D,g as C,_ as W,s as ge,a as me,o as pe,u as V,n as A,i as z,p as I,F as q,j as F,h as ve}from"./index-0e60331d.js";import{useDatabaseStore as xe}from"./database-6609ebe8.js";import{supabaseService as y}from"./supabase-b4265a88.js";import{s as ye,g as be,m as L,a as fe,b as he,c as l}from"./message-2c75333d.js";const ke={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},we={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6"},_e={class:"mb-6"},Ce={class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},Pe={key:0,class:"mb-4"},Ue={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Se={key:1,class:"mb-4"},Ve={class:"mt-1 text-sm text-gray-500 dark:text-gray-400 text-right"},Me={class:"flex justify-end space-x-3"},Ie=["disabled"],Te=R({__name:"EditUserDialog",props:{title:{type:String,required:!1,default:"ç¼–è¾‘ä¿¡æ¯"},editType:{type:String,required:!0},initialValue:{type:String,required:!1},confirmText:{type:String,required:!1,default:"ä¿å­˜"}},emits:["confirm","cancel"],setup(P,{expose:k,emit:M}){const u=P,U=M,w=b(!1),g=b(""),d=b(""),B=$(()=>u.editType==="nickname"?!g.value.trim():u.editType==="bio"?d.value.trim()===u.initialValue:!1);ue(()=>u.editType,_=>{_==="nickname"?g.value=u.initialValue||"":_==="bio"&&(d.value=u.initialValue||"")},{immediate:!0});const E=()=>{w.value=!0,u.editType==="nickname"?g.value=u.initialValue||"":u.editType==="bio"&&(d.value=u.initialValue||"")},j=()=>{w.value=!1},v=()=>{const _=u.editType==="nickname"?g.value.trim():d.value.trim();U("confirm",_),j()},i=()=>{U("cancel"),j()};return k({show:E,hide:j}),(_,f)=>w.value?(m(),p("div",ke,[t("div",we,[t("div",_e,[t("h3",Ce,c(P.title),1),P.editType==="nickname"?(m(),p("div",Pe,[f[2]||(f[2]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," æ˜µç§° ",-1)),T(t("input",{"onUpdate:modelValue":f[0]||(f[0]=S=>g.value=S),type:"text",placeholder:"è¯·è¾“å…¥æ–°æ˜µç§°",maxlength:"20",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"},null,512),[[D,g.value]]),t("div",Ue,c(g.value.length)+"/20 ",1)])):C("",!0),P.editType==="bio"?(m(),p("div",Se,[f[3]||(f[3]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," ä¸ªäººç­¾å ",-1)),T(t("textarea",{"onUpdate:modelValue":f[1]||(f[1]=S=>d.value=S),rows:"3",maxlength:"200",placeholder:"å‘å¤§å®¶ç®€å•ä»‹ç»ä¸€ä¸‹è‡ªå·±~",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white resize-none"},null,512),[[D,d.value]]),t("div",Ve,c(d.value.length)+"/200 ",1)])):C("",!0)]),t("div",Me,[t("button",{onClick:i,class:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"}," å–æ¶ˆ "),t("button",{onClick:v,class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium",disabled:B.value},c(P.confirmText),9,Ie)])])])):C("",!0)}}),De=W(Te,[["__file","E:/å‰ç«¯åˆçº§è¯¾ç¨‹/program/EduMatch/src/components/EditUserDialog.vue"]]),Be={class:"p-6 md:p-8"},Ee=["innerHTML"],je={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden mb-8"},$e={class:"p-6"},ze={class:"flex items-center mb-6"},He={class:"w-20 h-20 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center text-blue-600 dark:text-blue-400 text-2xl font-bold mr-6"},Ne={class:"flex-1"},Je={class:"flex items-center mb-2"},Oe={class:"text-2xl font-bold text-gray-900 dark:text-white"},Ae={class:"flex items-start"},qe={class:"text-gray-600 dark:text-gray-400 leading-relaxed max-w-2xl"},Fe={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden mb-8"},Le={class:"p-6"},Re={key:0,class:"text-center py-12"},We={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Ge=["onClick"],Ke={class:"flex justify-between items-start mb-3"},Qe={class:"flex-1"},Xe={class:"font-semibold text-gray-900 dark:text-white mb-1"},Ye={class:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2"},Ze={class:"ml-3"},et={class:"text-sm text-gray-500 dark:text-gray-400"},tt={class:"flex items-center"},rt={key:2,class:"text-center mt-6"},st={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden mb-8"},ot={class:"p-6"},at={key:0,class:"text-center py-12"},nt={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},it=["onClick"],lt={class:"flex justify-between items-start mb-3"},dt={class:"flex-1"},ct={class:"font-semibold text-gray-900 dark:text-white mb-2 line-clamp-1"},ut={class:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2"},gt={class:"flex items-center text-xs text-gray-500 dark:text-gray-400"},mt={key:0,class:"px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-full mr-2"},pt={class:"text-sm text-gray-500 dark:text-gray-400 pt-3 border-t border-gray-200 dark:border-gray-600"},vt={class:"flex items-center"},xt={key:2,class:"text-center mt-6"},yt={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden mb-8"},bt={class:"p-6 border-b border-gray-100 dark:border-gray-700"},ft={class:"space-y-4"},ht={class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4"},kt={class:"space-y-3"},wt=R({__name:"ProfilePage",setup(P){const k=ge();xe();const M=b(),u=b("nickname"),U=b(""),w=b(""),g=b([]),d=b([]),B=b(!1),E=b(!1),v=b((()=>{const r=localStorage.getItem("currentUser");if(r)try{const e=JSON.parse(r);return{name:e.nickname||e.username||"æ¼”ç¤ºç”¨æˆ·",email:e.email||"demo@example.com",bio:e.bio||""}}catch(e){console.error("è§£æç”¨æˆ·ä¿¡æ¯å¤±è´¥:",e)}return{name:"æ¼”ç¤ºç”¨æˆ·",email:"demo@example.com",bio:""}})()),i=me({currentPassword:"",newPassword:"",confirmPassword:""}),_=$(()=>v.value.name.charAt(0).toUpperCase()),f=r=>{const e={video:"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",article:"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400",book:"bg-purple-100 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400",course:"bg-orange-100 text-orange-600 dark:bg-orange-900/20 dark:text-orange-400",tool:"bg-pink-100 text-pink-600 dark:bg-pink-900/20 dark:text-pink-400",other:"bg-gray-100 text-gray-600 dark:bg-gray-900/20 dark:text-gray-400"};return e[r]||e.other},S=r=>new Date(r).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}),G=()=>{k.push("/create-resource")},K=r=>{k.push(`/resource/${r}`)},Q=r=>{k.push(`/post/${r}`)},X=()=>{k.push("/community")},H=()=>{k.push("/my-all-posts")},N=()=>{k.push("/my-all-resources")},Y=$(()=>d.value.slice(0,3)),Z=$(()=>g.value.slice(0,3)),ee=async()=>{E.value=!0;try{console.log("ğŸ”„ å¼€å§‹åŠ è½½ç”¨æˆ·å¸–å­...");const r=y.getClient();let e=null;const s=localStorage.getItem("currentUser");if(s){const x=JSON.parse(s);x.id?(e=x.id,console.log("âœ… å½“å‰ç”¨æˆ·ID:",e)):console.error("âŒ ç”¨æˆ·æ•°æ®ä¸­æ²¡æœ‰IDå­—æ®µ:",x)}else console.error("âŒ localStorageä¸­æ²¡æœ‰ç”¨æˆ·ä¿¡æ¯");if(!e){console.error("âŒ ç”¨æˆ·æœªç™»å½•ï¼Œå°†æ˜¾ç¤ºç©ºå¸–å­åˆ—è¡¨"),d.value=[];return}console.log("ğŸ” æŸ¥è¯¢ç”¨æˆ·å¸–å­...");const{data:o,error:n}=await r.from("community_posts").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n){console.error("âŒ è·å–æˆ‘çš„å¸–å­å¤±è´¥:",n),d.value=[];return}if(console.log("ğŸ“Š åŸå§‹å¸–å­æ•°æ®:",o),!o||o.length===0){console.log("â„¹ï¸ è¯¥ç”¨æˆ·æ²¡æœ‰å‘å¸ƒä»»ä½•å¸–å­"),d.value=[];return}const a=[];for(let x=0;x<o.length;x++){const h=o[x],{data:J,error:de}=await r.from("post_comments").select("id").eq("post_id",h.id),O=de?0:J?J.length:0,ce={id:h.id,title:h.title,content:h.content||"",category:h.category,tags:[],status:"published",views:h.views_count||0,likes:h.likes_count||0,comments:O,created_at:h.created_at,updated_at:h.updated_at};a.push(ce),console.log(`ğŸ“ å¸–å­ ${x+1}: ${h.title} (è¯„è®ºæ•°: ${O})`)}d.value=a,console.log("âœ… æˆåŠŸåŠ è½½æˆ‘çš„å¸–å­:",d.value.length),console.log("ğŸ“‹ æœ€ç»ˆå¸–å­æ•°æ®:",d.value)}catch(r){console.error("âŒ åŠ è½½æˆ‘çš„å¸–å­æ—¶å‡ºé”™:",r),d.value=[]}finally{E.value=!1}},te=async()=>{try{const r=localStorage.getItem("currentUser");if(!r)return;const e=JSON.parse(r);if(!(e!=null&&e.id)){console.error("æ— æ³•è·å–å½“å‰ç”¨æˆ·ID");return}const s=y.getClient(),{data:o,error:n}=await s.from("users").select("id, username, nickname, bio").eq("id",e.id).single();if(n){console.error("åŠ è½½ç”¨æˆ·èµ„æ–™å¤±è´¥:",n);return}if(o){v.value={name:o.nickname||o.username||"æ¼”ç¤ºç”¨æˆ·",email:v.value.email,bio:o.bio||""},bioInput.value=v.value.bio||"";const a={...e,nickname:o.nickname||e.nickname,username:o.username||e.username,bio:o.bio||""};localStorage.setItem("currentUser",JSON.stringify(a))}}catch(r){console.error("åŠ è½½ç”¨æˆ·èµ„æ–™æ—¶å‡ºé”™:",r)}},re=async()=>{B.value=!0;try{const r=y.getClient();let e=null;const s=localStorage.getItem("currentUser");if(s){const a=JSON.parse(s);a.id&&(e=a.id,console.log("ä¸ªäººä¸­å¿ƒä½¿ç”¨å½“å‰ç”¨æˆ·ID:",e))}if(!e){console.error("ç”¨æˆ·æœªç™»å½•ï¼Œå°†æ˜¾ç¤ºç©ºåˆ—è¡¨"),g.value=[];return}const{data:o,error:n}=await r.from("resources").select("*").eq("created_by",e).order("created_at",{ascending:!1});n?(console.error("è·å–æˆ‘çš„èµ„æºå¤±è´¥:",n),g.value=[]):g.value=(o||[]).map(a=>({id:a.id,title:a.title,description:a.description||"",type:a.type||"other",category:a.category,difficulty:a.difficulty,duration:a.duration,provider:a.provider,url:a.url,views:a.views||0,likes:a.likes||0,created_at:a.created_at}))}catch(r){console.error("åŠ è½½æˆ‘çš„èµ„æºæ—¶å‡ºé”™:",r),g.value=[]}finally{B.value=!1}},se=async()=>{if(!i.currentPassword||!i.newPassword||!i.confirmPassword){l("è¯·å¡«å†™æ‰€æœ‰å¯†ç å­—æ®µ","warning");return}if(i.newPassword!==i.confirmPassword){l("æ–°å¯†ç å’Œç¡®è®¤å¯†ç ä¸ä¸€è‡´","warning");return}if(i.newPassword.length<6){l("æ–°å¯†ç é•¿åº¦è‡³å°‘ä¸º6ä½","warning");return}try{const r=y.getClient();let e="demo-user-id";const s=localStorage.getItem("currentUser");if(s){const o=JSON.parse(s);o.id&&(e=o.id)}else try{const o=await y.getUserByUsername("admin");if(o){if(!await y.verifyPassword(i.currentPassword,o.password_hash)){l("å½“å‰å¯†ç ä¸æ­£ç¡®","error");return}e=o.id}else{l("æ— æ³•è·å–ç”¨æˆ·ä¿¡æ¯","error");return}}catch(o){console.error("è·å–adminç”¨æˆ·å¤±è´¥:",o),l("æ— æ³•è·å–ç”¨æˆ·ä¿¡æ¯","error");return}if(s)try{const o=await y.getUserById(e);if(!o){l("æ— æ³•è·å–ç”¨æˆ·ä¿¡æ¯","error");return}if(!await y.verifyPassword(i.currentPassword,o.password_hash)){l("å½“å‰å¯†ç ä¸æ­£ç¡®","error");return}}catch(o){console.error("è·å–ç”¨æˆ·æ•°æ®å¤±è´¥:",o),l("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥","error");return}await y.updateUserPassword(e,i.newPassword),l("å¯†ç ä¿®æ”¹æˆåŠŸï¼","success"),i.currentPassword="",i.newPassword="",i.confirmPassword=""}catch(r){console.error("ä¿®æ”¹å¯†ç å¤±è´¥:",r),l("å¯†ç ä¿®æ”¹å¤±è´¥: "+(r instanceof Error?r.message:"æœªçŸ¥é”™è¯¯"),"error")}},oe=()=>{var r;u.value="nickname",U.value="ç¼–è¾‘æ˜µç§°",w.value=v.value.name,(r=M.value)==null||r.show()},ae=()=>{var r;u.value="bio",U.value="ç¼–è¾‘ä¸ªäººç­¾å",w.value=v.value.bio||"",(r=M.value)==null||r.show()},ne=async r=>{u.value==="nickname"?await ie(r):u.value==="bio"&&await le(r)},ie=async r=>{if(!r.trim()){l("è¯·è¾“å…¥æ–°æ˜µç§°","warning");return}try{const e=y.getClient();let s="demo-user-id";const o=localStorage.getItem("currentUser");if(o){const n=JSON.parse(o);n.id&&(s=n.id)}else{l("æ— æ³•è·å–ç”¨æˆ·ä¿¡æ¯","error");return}try{await y.updateUserNickname(s,r.trim())}catch(n){if(n.message&&n.message.includes("nickname")){console.log("nicknameåˆ—ä¸å­˜åœ¨ï¼Œæš‚æ—¶æ›´æ–°username");const{error:a}=await e.from("users").update({username:r.trim()}).eq("id",s);if(a)throw new Error("æ•°æ®åº“ä¸­ç¼ºå°‘nicknameåˆ—ï¼Œä¸”usernameæ›´æ–°å¤±è´¥: "+a.message);if(o){const x=JSON.parse(o);x.username=r.trim(),x.nickname=r.trim(),localStorage.setItem("currentUser",JSON.stringify(x))}l("ç”¨æˆ·åæ›´æ–°æˆåŠŸï¼ï¼ˆæ•°æ®åº“ä¸­æš‚æ— æ˜µç§°åˆ—ï¼Œå·²æ›´æ–°ç”¨æˆ·åä½œä¸ºæ›¿ä»£ï¼‰","success"),v.value.name=r.trim();return}throw n}if(l("æ˜µç§°æ›´æ–°æˆåŠŸï¼","success"),o){const n=JSON.parse(o);n.nickname=r.trim(),localStorage.setItem("currentUser",JSON.stringify(n))}v.value.name=r.trim()}catch(e){console.error("æ›´æ–°æ˜µç§°å¤±è´¥:",e),l("æ›´æ–°å¤±è´¥: "+(e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"),"error")}},le=async r=>{try{const e=localStorage.getItem("currentUser");if(!e){l("è¯·å…ˆç™»å½•åå†ç¼–è¾‘ä¸ªäººç­¾å","warning");return}const s=JSON.parse(e);if(!(s!=null&&s.id)){l("æ— æ³•è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯","error");return}const o=y.getClient(),n=r.trim(),{error:a}=await o.from("users").update({bio:n}).eq("id",s.id);if(a)throw a;v.value.bio=n,s.bio=n,localStorage.setItem("currentUser",JSON.stringify(s)),l("ä¸ªäººç­¾åå·²æ›´æ–°ï¼","success")}catch(e){console.error("æ›´æ–°ä¸ªäººç­¾åå¤±è´¥:",e),l("æ›´æ–°å¤±è´¥: "+(e instanceof Error?e.message:"æœªçŸ¥é”™è¯¯"),"error")}};return pe(()=>{te(),re(),ee()}),(r,e)=>(m(),p("div",Be,[V(ye)?(m(),p("div",{key:0,class:A([V(be)(V(L)),"flex items-center space-x-2"])},[t("span",{innerHTML:V(fe)(V(L))},null,8,Ee),t("span",null,c(V(he)),1)],2)):C("",!0),e[19]||(e[19]=z('<div class="mb-8"><h1 class="text-3xl font-bold text-gray-900 dark:text-white flex items-center"><svg class="h-8 w-8 mr-3 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> ä¸ªäººä¸­å¿ƒ </h1><p class="text-gray-600 dark:text-gray-400 mt-2">ç®¡ç†ä½ çš„å­¦ä¹ è®°å½•å’Œä¸ªäººä¿¡æ¯</p></div>',1)),t("div",je,[t("div",$e,[t("div",ze,[t("div",He,c(_.value),1),t("div",Ne,[t("div",Je,[t("h2",Oe,c(v.value.name),1),t("button",{onClick:oe,class:"ml-2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"ç¼–è¾‘æ˜µç§°"},[...e[3]||(e[3]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])])]),e[5]||(e[5]=t("div",{class:"flex items-center mb-3"},[t("span",{class:"px-3 py-1 bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-full text-sm font-medium"}," æ´»è·ƒå­¦ä¹ è€… ")],-1)),t("div",Ae,[t("p",qe,[I(c(v.value.bio||"è¿™ä¸ªäººå¾ˆæ‡’ï¼Œè¿˜æ²¡æœ‰å†™ä¸ªäººç­¾å~")+" ",1),t("button",{onClick:ae,class:"ml-1 inline-flex p-0.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors align-middle",title:"ç¼–è¾‘ä¸ªäººç­¾å"},[...e[4]||(e[4]=[t("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])])])])])])])]),t("div",Fe,[t("div",{class:"p-6 border-b border-gray-100 dark:border-gray-700 cursor-pointer",onClick:N},[...e[6]||(e[6]=[t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center"},[t("svg",{class:"h-5 w-5 mr-2 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})]),I(" æˆ‘çš„èµ„æº ")],-1)])]),t("div",Le,[g.value.length===0?(m(),p("div",Re,[e[7]||(e[7]=t("svg",{class:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),e[8]||(e[8]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"æš‚æ— åˆ›å»ºçš„èµ„æº",-1)),e[9]||(e[9]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-6"},"æ‚¨è¿˜æ²¡æœ‰åˆ›å»ºä»»ä½•å­¦ä¹ èµ„æº",-1)),t("button",{onClick:G,class:"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors"}," åˆ›å»ºç¬¬ä¸€ä¸ªèµ„æº ")])):(m(),p("div",We,[(m(!0),p(q,null,F(Z.value,s=>(m(),p("div",{key:s.id,class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:o=>K(s.id)},[t("div",Ke,[t("div",Qe,[t("h4",Xe,c(s.title),1),t("p",Ye,c(s.description),1)]),t("div",Ze,[t("span",{class:A(`px-2 py-1 text-xs rounded-full ${f(s.type)}`)},c(s.type),3)])]),t("div",et,[t("div",tt,[e[10]||(e[10]=t("svg",{class:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),I(" "+c(S(s.created_at)),1)])])],8,Ge))),128))])),g.value.length>3?(m(),p("div",rt,[t("button",{onClick:N,class:"px-6 py-2 bg-purple-100 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 hover:bg-purple-200 dark:hover:bg-purple-900/30 rounded-lg transition-colors"}," æŸ¥çœ‹å…¨éƒ¨ "+c(g.value.length)+" ä¸ªèµ„æº ",1)])):C("",!0)])]),t("div",st,[t("div",{class:"p-6 border-b border-gray-100 dark:border-gray-700 cursor-pointer",onClick:H},[...e[11]||(e[11]=[t("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white flex items-center"},[t("svg",{class:"h-5 w-5 mr-2 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})]),I(" æˆ‘çš„å¸–å­ ")],-1)])]),t("div",ot,[d.value.length===0?(m(),p("div",at,[e[12]||(e[12]=t("svg",{class:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})],-1)),e[13]||(e[13]=t("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"æš‚æ— å‘å¸ƒçš„å¸–å­",-1)),e[14]||(e[14]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-6"},"æ‚¨è¿˜æ²¡æœ‰åœ¨ç¤¾åŒºå‘å¸ƒä»»ä½•å¸–å­",-1)),t("button",{onClick:X,class:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors"}," å»ç¤¾åŒºå‘å¸– ")])):(m(),p("div",nt,[(m(!0),p(q,null,F(Y.value,s=>(m(),p("div",{key:s.id,class:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:o=>Q(s.id)},[t("div",lt,[t("div",dt,[t("h4",ct,c(s.title),1),t("p",ut,c(s.content),1),t("div",gt,[s.category?(m(),p("span",mt,c(s.category),1)):C("",!0)])])]),t("div",pt,[t("div",vt,[e[15]||(e[15]=t("svg",{class:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),I(" "+c(S(s.created_at)),1)])])],8,it))),128))])),d.value.length>3?(m(),p("div",xt,[t("button",{onClick:H,class:"px-6 py-2 bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/30 rounded-lg transition-colors"}," æŸ¥çœ‹å…¨éƒ¨ "+c(d.value.length)+" ä¸ªå¸–å­ ",1)])):C("",!0)])]),t("div",yt,[e[18]||(e[18]=z('<div class="p-6 border-b border-gray-100 dark:border-gray-700"><h3 class="text-lg font-semibold text-gray-900 dark:text-white flex items-center"><svg class="h-5 w-5 mr-2 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> ç³»ç»Ÿè®¾ç½® </h3></div>',1)),t("div",bt,[e[17]||(e[17]=t("h4",{class:"text-base font-medium text-gray-900 dark:text-white mb-4"},"è´¦æˆ·ç®¡ç†",-1)),t("div",ft,[t("div",ht,[e[16]||(e[16]=z('<div class="flex items-center justify-between mb-3"><div><h3 class="font-medium text-gray-900 dark:text-white">ä¿®æ”¹å¯†ç </h3><p class="text-sm text-gray-500 dark:text-gray-400">å®šæœŸæ›´æ¢å¯†ç ä¿æŠ¤è´¦æˆ·å®‰å…¨</p></div><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg></div>',1)),t("div",kt,[T(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.currentPassword=s),type:"password",placeholder:"å½“å‰å¯†ç ",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-white"},null,512),[[D,i.currentPassword]]),T(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.newPassword=s),type:"password",placeholder:"æ–°å¯†ç ",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-white"},null,512),[[D,i.newPassword]]),T(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>i.confirmPassword=s),type:"password",placeholder:"ç¡®è®¤æ–°å¯†ç ",class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:text-white"},null,512),[[D,i.confirmPassword]]),t("button",{onClick:se,class:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors"}," ä¿®æ”¹å¯†ç  ")])])])])]),ve(De,{ref_key:"editDialog",ref:M,title:U.value,"edit-type":u.value,"initial-value":w.value,onConfirm:ne},null,8,["title","edit-type","initial-value"])]))}}),St=W(wt,[["__file","E:/å‰ç«¯åˆçº§è¯¾ç¨‹/program/EduMatch/src/views/ProfilePage.vue"]]);export{St as default};
