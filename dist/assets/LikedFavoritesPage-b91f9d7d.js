import{d as $,r as k,p as H,h as M,a as l,b as t,e as r,f as o,l as x,n as U,F as v,k as P,j as L,q as N,o as d,H as y,t as a,_ as q}from"./index-9b7d0a80.js";import{useDatabaseStore as z}from"./database-dd77cb4c.js";import{T as p}from"./thumbs-up-8332c191.js";import{C as R,E as T}from"./external-link-5a8217db.js";import{C as A}from"./clock-0ab8c2f5.js";import{D as I}from"./dollar-sign-a7686536.js";import"./supabase-2d6ad7e7.js";const J={class:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 p-6"},O={class:"mb-8"},G={class:"text-3xl font-bold text-gray-900 dark:text-white flex items-center"},K={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden mb-6"},Q={class:"flex"},W={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-8 text-center shadow-md"},X={class:"bg-gray-100 dark:bg-gray-700 p-4 rounded-full inline-flex items-center justify-center mb-4"},Y={class:"p-4 border-b border-gray-100 dark:border-gray-700"},Z={class:"font-bold text-lg mb-1 line-clamp-1"},tt={class:"flex items-center text-sm text-gray-500 dark:text-gray-400"},et={class:"p-4"},st={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 mb-4"},rt={class:"flex items-start"},ot={class:"text-sm text-gray-700 dark:text-gray-300"},at={class:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4"},lt={class:"flex items-center"},dt={class:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg mr-2"},it={class:"text-sm font-medium"},nt={class:"flex items-center"},gt={class:"text-sm font-medium"},ut={class:"flex items-center"},ct={class:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg mr-2"},mt={class:"text-sm font-medium"},xt={class:"bg-blue-100 dark:bg-blue-900/20 rounded-lg p-3 mb-4 flex items-center"},bt=["onClick"],vt={key:0,class:"bg-white dark:bg-gray-800 rounded-xl p-8 text-center shadow-md"},yt={class:"bg-gray-100 dark:bg-gray-700 p-4 rounded-full inline-flex items-center justify-center mb-4"},kt={class:"p-4 border-b border-gray-100 dark:border-gray-700"},pt={class:"font-bold text-lg mb-1 line-clamp-1"},ht={class:"flex items-center text-sm text-gray-500 dark:text-gray-400"},ft={class:"p-4"},_t={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 mb-4"},wt={class:"flex items-start"},Ct={class:"text-sm text-gray-700 dark:text-gray-300"},Ft={class:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4"},jt={class:"flex items-center"},Et={class:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg mr-2"},Bt={class:"text-sm font-medium"},Dt={class:"flex items-center"},St={class:"text-sm font-medium"},Ut={class:"flex items-center"},Pt={class:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg mr-2"},Lt={class:"text-sm font-medium"},Nt={class:"bg-red-100 dark:bg-red-900/20 rounded-lg p-3 mb-4 flex items-center"},Rt=["onClick"],Tt=$({__name:"LikedFavoritesPage",setup(At){const g=k("liked"),u=k([]),b=k([]),h=()=>{const n=localStorage.getItem("currentUser");if(n)try{return JSON.parse(n).id.toString()}catch(e){console.error("Failed to parse current user:",e)}return"default_user"},V=()=>{h(),(async()=>{try{const e=z(),c=h();if(c){const s=await e.getResources(),m=await e.getFavorites(c);u.value=m.map(i=>{var w,C,F,j,E,B,D,S;return{...i.resources,name:((w=i.resources)==null?void 0:w.title)||"",provider:((C=i.resources)==null?void 0:C.provider)||"",duration:((F=i.resources)==null?void 0:F.duration)||"",rating:((j=i.resources)==null?void 0:j.rating)||0,url:((E=i.resources)==null?void 0:E.url)||"",matchPoints:((B=i.resources)==null?void 0:B.description)||"",type:((D=i.resources)==null?void 0:D.category)||"",interaction:{liked:!0,saved:!0,likesCount:((S=i.resources)==null?void 0:S.likes)||0}}}),b.value=u.value}}catch(e){console.error("加载用户收藏失败:",e),u.value=[],b.value=[]}})()},f=(n,e)=>{n.preventDefault(),window.open(e,"_blank","noopener,noreferrer")},_=n=>{g.value=n};return H(()=>{V()}),(n,e)=>{const c=M("router-link");return d(),l("div",J,[t("div",O,[t("h1",G,[r(o(y),{class:"h-8 w-8 mr-3 text-red-500"}),e[2]||(e[2]=x(" 点赞收藏 ",-1))]),e[3]||(e[3]=t("p",{class:"text-gray-600 dark:text-gray-400 mt-2"},"查看你点赞和收藏的学习资源",-1))]),t("div",K,[t("div",Q,[t("button",{onClick:e[0]||(e[0]=s=>_("liked")),class:U(`flex-1 py-4 px-6 flex items-center justify-center transition-colors ${g.value==="liked"?"bg-blue-600 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`)},[r(o(p),{class:"h-5 w-5 mr-2"}),e[4]||(e[4]=t("span",{class:"font-medium"},"我的点赞",-1))],2),t("button",{onClick:e[1]||(e[1]=s=>_("favorites")),class:U(`flex-1 py-4 px-6 flex items-center justify-center transition-colors ${g.value==="favorites"?"bg-red-500 text-white":"hover:bg-gray-100 dark:hover:bg-gray-700"}`)},[r(o(y),{class:"h-5 w-5 mr-2"}),e[5]||(e[5]=t("span",{class:"font-medium"},"我的收藏",-1))],2)])]),(d(),l("div",{key:g.value,class:"space-y-6"},[g.value==="liked"?(d(),l(v,{key:0},[u.value.length===0?(d(),l("div",W,[t("div",X,[r(o(p),{class:"h-8 w-8 text-gray-400"})]),e[7]||(e[7]=t("h3",{class:"text-lg font-medium mb-2"},"暂无点赞内容",-1)),e[8]||(e[8]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-6"},"浏览教育资源并点赞，这里将显示你喜欢的内容",-1)),r(c,{to:"/search",class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors inline-block"},{default:P(()=>[...e[6]||(e[6]=[x(" 去搜索资源 ",-1)])]),_:1})])):L("",!0),(d(!0),l(v,null,N(u.value,s=>(d(),l("div",{key:s.id,class:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md border border-gray-100 dark:border-gray-700 transition-transform duration-200 hover:scale-105"},[t("div",Y,[t("h3",Z,a(s.name),1),t("div",tt,[t("span",null,a(s.provider),1)])]),t("div",et,[t("div",st,[t("div",rt,[r(o(R),{class:"h-5 w-5 text-blue-500 mr-2 flex-shrink-0 mt-0.5"}),t("p",ot,a(s.matchPoints),1)])]),t("div",at,[t("div",lt,[t("div",dt,[r(o(A),{class:"h-4 w-4 text-gray-500 dark:text-gray-400"})]),t("div",null,[e[9]||(e[9]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"学习时长",-1)),t("div",it,a(s.duration),1)])]),t("div",nt,[e[11]||(e[11]=t("div",{class:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg mr-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-yellow-500"},[t("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})])],-1)),t("div",null,[e[10]||(e[10]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"用户评分",-1)),t("div",gt,a(s.rating)+"/10",1)])]),t("div",ut,[t("div",ct,[r(o(I),{class:"h-4 w-4 text-green-500"})]),t("div",null,[e[12]||(e[12]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"资源类型",-1)),t("div",mt,a(s.type),1)])])]),t("div",xt,[r(o(p),{class:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2"}),e[13]||(e[13]=t("p",{class:"text-sm text-blue-700 dark:text-blue-300"},"你已点赞此资源",-1))]),t("button",{onClick:m=>f(m,s.url),class:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-all duration-200 hover:scale-105 active:scale-95"},[e[14]||(e[14]=x(" 立即学习 ",-1)),r(o(T),{class:"h-4 w-4 ml-2"})],8,bt)])]))),128))],64)):(d(),l(v,{key:1},[b.value.length===0?(d(),l("div",vt,[t("div",yt,[r(o(y),{class:"h-8 w-8 text-gray-400"})]),e[16]||(e[16]=t("h3",{class:"text-lg font-medium mb-2"},"暂无收藏内容",-1)),e[17]||(e[17]=t("p",{class:"text-gray-500 dark:text-gray-400 mb-6"},"浏览教育资源并收藏，这里将显示你保存的内容",-1)),r(c,{to:"/search",class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors inline-block"},{default:P(()=>[...e[15]||(e[15]=[x(" 去搜索资源 ",-1)])]),_:1})])):L("",!0),(d(!0),l(v,null,N(b.value,s=>(d(),l("div",{key:s.id,class:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md border border-gray-100 dark:border-gray-700 transition-transform duration-200 hover:scale-105"},[t("div",kt,[t("h3",pt,a(s.name),1),t("div",ht,[t("span",null,a(s.provider),1)])]),t("div",ft,[t("div",_t,[t("div",wt,[r(o(R),{class:"h-5 w-5 text-blue-500 mr-2 flex-shrink-0 mt-0.5"}),t("p",Ct,a(s.matchPoints),1)])]),t("div",Ft,[t("div",jt,[t("div",Et,[r(o(A),{class:"h-4 w-4 text-gray-500 dark:text-gray-400"})]),t("div",null,[e[18]||(e[18]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"学习时长",-1)),t("div",Bt,a(s.duration),1)])]),t("div",Dt,[e[20]||(e[20]=t("div",{class:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg mr-2"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-yellow-500"},[t("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})])],-1)),t("div",null,[e[19]||(e[19]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"用户评分",-1)),t("div",St,a(s.rating)+"/10",1)])]),t("div",Ut,[t("div",Pt,[r(o(I),{class:"h-4 w-4 text-green-500"})]),t("div",null,[e[21]||(e[21]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"资源类型",-1)),t("div",Lt,a(s.type),1)])])]),t("div",Nt,[r(o(y),{class:"h-5 w-5 text-red-600 dark:text-red-400 mr-2"}),e[22]||(e[22]=t("p",{class:"text-sm text-red-700 dark:text-red-300"},"你已收藏此资源",-1))]),t("button",{onClick:m=>f(m,s.url),class:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-all duration-200 hover:scale-105 active:scale-95"},[e[23]||(e[23]=x(" 立即学习 ",-1)),r(o(T),{class:"h-4 w-4 ml-2"})],8,Rt)])]))),128))],64))]))])}}}),Jt=q(Tt,[["__file","E:/前端初级课程/program/EduMatch/src/views/LikedFavoritesPage.vue"]]);export{Jt as default};
