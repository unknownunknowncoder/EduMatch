import{c as V,d as H,r as x,m as P,p as q,o as i,a as d,b as t,n as k,t as c,e as y,f as v,l as $,F as C,q as _,j as T,H as ae,_ as J,u as se,s as D,x as oe,i as f,v as E,y as le,z as G,A as ne,B as ie}from"./index-9b7d0a80.js";import{useDatabaseStore as z}from"./database-dd77cb4c.js";import{C as de,E as ue}from"./external-link-5a8217db.js";import{B as ce}from"./book-open-6ebccaa5.js";import{C as K}from"./clock-0ab8c2f5.js";import{D as ge}from"./dollar-sign-a7686536.js";import{T as ye}from"./thumbs-up-8332c191.js";import{S as A}from"./search-aef6f2cc.js";import"./supabase-2d6ad7e7.js";/**
 * @license lucide-vue-next v0.420.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=V("ArrowLeftIcon",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-vue-next v0.420.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=V("FileTextIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.420.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=V("FilterIcon",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-vue-next v0.420.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=V("StarIcon",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-vue-next v0.420.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=V("TargetIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),fe={class:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-md border border-gray-100 dark:border-gray-700 transition-transform hover:-translate-y-1"},ke={class:"p-4 border-b border-gray-100 dark:border-gray-700 relative"},he={class:"pl-6"},we={class:"font-bold text-lg mb-1 line-clamp-1"},Ce={class:"flex items-center text-sm text-gray-500 dark:text-gray-400"},_e={class:"p-4"},$e={class:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 mb-4"},Oe={class:"flex items-start"},Se={class:"text-sm text-gray-700 dark:text-gray-300"},Le={class:"mb-4"},Te={class:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2 flex items-center"},Ie={class:"space-y-1"},Re={class:"line-clamp-1"},Ge={key:0,class:"text-sm text-blue-500"},Ve={class:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4"},De={class:"flex items-center"},Ee={class:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg mr-2"},Fe={class:"text-sm font-medium"},je={class:"flex items-center"},Be={class:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg mr-2"},Me={class:"text-sm font-medium"},Ue={class:"flex items-center"},Ne={class:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg mr-2"},Ae={class:"text-sm font-medium"},ze={class:"flex space-x-3 mb-4"},He=H({__name:"ResourceCard",props:{resource:{type:Object,required:!0},rank:{type:Number,required:!0}},setup(p){const h=p,m=s=>{switch(s){case 1:return"bg-yellow-500 text-white";case 2:return"bg-gray-400 text-white";case 3:return"bg-amber-700 text-white";default:return"bg-blue-500 text-white"}},O=()=>{const s=localStorage.getItem("currentUser");if(s)try{return JSON.parse(s).id.toString()}catch(n){console.error("Failed to parse current user:",n)}return"default_user"},S=()=>`resource_interaction_${O()}_${h.resource.id}`,l=x(()=>{const s=localStorage.getItem(S());return s?JSON.parse(s):{liked:!1,saved:!1,likesCount:0}});P(l,s=>{localStorage.setItem(S(),JSON.stringify(s))},{deep:!0}),q(()=>{const s=`resource_details_${h.resource.id}`;localStorage.getItem(s)||localStorage.setItem(s,JSON.stringify(h.resource))});const u=s=>{window.open(s,"_blank","noopener,noreferrer"),F()},F=()=>{try{const n=`resource_history_${O()}`,g=localStorage.getItem(n);let b=g?JSON.parse(g):[];const L=b.findIndex(I=>I.resource.id===h.resource.id);L>=0?b[L].timestamp=Date.now():(b.unshift({resource:h.resource,timestamp:Date.now()}),b.length>100&&(b=b.slice(0,100))),localStorage.setItem(n,JSON.stringify(b))}catch(s){console.error("Failed to save history:",s)}},j=()=>{l.value={...l.value,liked:!l.value.liked,likesCount:l.value.liked?l.value.likesCount-1:l.value.likesCount+1},console.log(l.value.liked?"已取消点赞":"点赞成功")},B=()=>{l.value={...l.value,saved:!l.value.saved},console.log(l.value.saved?"已取消收藏":"收藏成功")};return(s,n)=>(i(),d("div",fe,[t("div",ke,[t("div",{class:k(`absolute -top-2 -left-2 w-8 h-8 rounded-full ${m(p.rank)} flex items-center justify-center font-bold text-sm z-10`)},c(p.rank),3),t("div",he,[t("h3",we,c(p.resource.name||p.resource.title),1),t("div",Ce,[t("span",null,c(p.resource.provider),1)])])]),t("div",_e,[t("div",$e,[t("div",Oe,[y(v(de),{class:"h-5 w-5 text-blue-500 mr-2 flex-shrink-0 mt-0.5"}),t("p",Se,c(p.resource.matchPoints),1)])]),t("div",Le,[t("h4",Te,[y(v(ce),{class:"h-4 w-4 mr-1"}),n[1]||(n[1]=$(" 内容大纲 ",-1))]),t("ul",Ie,[(i(!0),d(C,null,_((p.resource.contentOutline||[]).slice(0,3),(g,b)=>(i(),d("li",{key:b,class:"flex items-start text-sm text-gray-700 dark:text-gray-300"},[n[2]||(n[2]=t("span",{class:"text-blue-500 mr-2"},"•",-1)),t("span",Re,c(g),1)]))),128)),(p.resource.contentOutline||[]).length>3?(i(),d("li",Ge," +"+c((p.resource.contentOutline||[]).length-3)+" 更多内容 ",1)):T("",!0)])]),t("div",Ve,[t("div",De,[t("div",Ee,[y(v(K),{class:"h-4 w-4 text-gray-500 dark:text-gray-400"})]),t("div",null,[n[3]||(n[3]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"学习时长",-1)),t("div",Fe,c(p.resource.duration),1)])]),t("div",je,[t("div",Be,[y(v(xe),{class:"h-4 w-4 text-yellow-500"})]),t("div",null,[n[4]||(n[4]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"用户评分",-1)),t("div",Me,c(p.resource.rating)+"/10",1)])]),t("div",Ue,[t("div",Ne,[y(v(ge),{class:"h-4 w-4 text-green-500"})]),t("div",null,[n[5]||(n[5]=t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"资源类型",-1)),t("div",Ae,c(p.resource.type),1)])])]),t("div",ze,[t("button",{onClick:j,class:k(`flex-1 flex items-center justify-center px-3 py-2 rounded-lg transition-colors ${l.value.liked?"bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300"}`)},[y(v(ye),{class:k(`h-4 w-4 mr-1 ${l.value.liked?"fill-current":""}`)},null,8,["class"]),t("span",null,c(l.value.likesCount),1)],2),t("button",{onClick:B,class:k(`flex-1 flex items-center justify-center px-3 py-2 rounded-lg transition-colors ${l.value.saved?"bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300"}`)},[y(v(ae),{class:k(`h-4 w-4 mr-1 ${l.value.saved?"fill-current":""}`)},null,8,["class"]),t("span",null,c(l.value.saved?"已收藏":"收藏"),1)],2)]),t("button",{onClick:n[0]||(n[0]=g=>u(p.resource.url)),class:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors hover:scale-105 active:scale-95"},[n[6]||(n[6]=$(" 立即学习 ",-1)),y(v(ue),{class:"h-4 w-4 ml-2"})])])]))}}),Pe=J(He,[["__file","E:/前端初级课程/program/EduMatch/src/components/ResourceCard.vue"]]),qe={class:"min-h-screen bg-gray-50 dark:bg-gray-900"},Je={class:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md shadow-sm sticky top-0 z-50"},Ke={class:"container mx-auto px-4 py-4"},Qe={class:"flex items-center space-x-4"},We={class:"flex-1 relative"},Ze={class:"mt-4 border-t border-gray-200 dark:border-gray-700 pt-4"},Xe={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ye={class:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700"},et={class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center"},tt={class:"flex flex-wrap gap-2 mb-3"},rt=["onClick"],at={class:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700"},st={class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center"},ot={class:"flex flex-wrap gap-2 mb-3"},lt=["onClick"],nt={class:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700"},it={class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 flex items-center"},dt={class:"flex flex-wrap gap-2 mb-3"},ut=["onClick"],ct={key:0,class:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4"},gt={class:"container mx-auto px-4 py-6"},yt={key:0,class:"mb-6 flex justify-between items-center"},vt={class:"text-gray-600 dark:text-gray-400"},pt={class:"font-semibold"},bt={class:"flex items-center space-x-2"},xt={key:1,class:"flex flex-col items-center justify-center py-16"},mt={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ft={key:3,class:"flex flex-col items-center justify-center py-16 text-center"},kt={key:4,class:"flex flex-col items-center justify-center py-16 text-center"},ht={class:"flex flex-wrap justify-center gap-2"},wt=["onClick"],Ct={key:5,class:"flex justify-center mt-8"},_t={class:"flex space-x-2"},$t=["disabled"],Ot=["onClick"],St=["disabled"],Lt=H({__name:"SearchPage",setup(p){const h=se(),m=x(""),O=x(!1),S=x(!1),l=x(!1),u=x({type:"",difficulty:"",duration:"",rating:""}),F=[{label:"掌握基础",value:"basic"},{label:"进阶提升",value:"intermediate"},{label:"专家级别",value:"advanced"}],j=[{label:"1小时以内",value:"short"},{label:"1-3小时",value:"medium"},{label:"3小时以上",value:"long"}],B=[{label:"视频课程",value:"video-course"},{label:"图文教程",value:"tutorial"},{label:"实践项目",value:"practice"}],s=x({learningGoal:"",learningGoalOptions:[],duration:"",durationOptions:[],resourceType:"",resourceTypeOptions:[]}),n=x("relevance"),g=x(1),b=x(9),L=x([]),I=x([]),Q=async()=>{try{const e=await z().getResources({limit:10}),r=new Set;e.forEach(o=>{o.title&&o.title.split(" ").forEach(w=>{w.length>1&&r.add(w)})}),L.value=Array.from(r).slice(0,7)}catch(a){console.warn("加载搜索建议失败:",a),L.value=[]}},W=async a=>{O.value=!0;try{const r=await z().searchResources(a);return I.value=r,r}catch(e){return console.error("搜索失败:",e),I.value=[],[]}finally{O.value=!1}},Z=a=>{const e=s.value.learningGoalOptions.indexOf(a);e>-1?s.value.learningGoalOptions.splice(e,1):s.value.learningGoalOptions.push(a)},X=a=>{const e=s.value.durationOptions.indexOf(a);e>-1?s.value.durationOptions.splice(e,1):s.value.durationOptions.push(a)},Y=a=>{const e=s.value.resourceTypeOptions.indexOf(a);e>-1?s.value.resourceTypeOptions.splice(e,1):s.value.resourceTypeOptions.push(a)},M=async()=>{!m.value.trim()&&!s.value.learningGoal.trim()&&!s.value.resourceType.trim()&&!s.value.duration.trim()&&s.value.learningGoalOptions.length===0&&s.value.durationOptions.length===0&&s.value.resourceTypeOptions.length===0||(g.value=1,l.value=!0,await W(m.value))},R=D(()=>{if(!l.value)return[];let a=[...I.value];if(m.value&&(a=a.filter(e=>e.title.toLowerCase().includes(m.value.toLowerCase())||e.description.toLowerCase().includes(m.value.toLowerCase())||e.tags.some(r=>r.toLowerCase().includes(m.value.toLowerCase())))),s.value.learningGoalOptions.length>0&&(a=a.filter(e=>s.value.learningGoalOptions.some(r=>{const o=r.toLowerCase();return e.title.toLowerCase().includes(o)||e.description.toLowerCase().includes(o)||e.tags.some(w=>w.toLowerCase().includes(o))}))),s.value.durationOptions.length>0&&(a=a.filter(e=>s.value.durationOptions.some(r=>{const o=r.toLowerCase();return o==="short"?e.duration==="short":o==="medium"?e.duration==="medium":o==="long"?e.duration==="long":e.duration.toLowerCase().includes(o)}))),s.value.resourceTypeOptions.length>0&&(a=a.filter(e=>s.value.resourceTypeOptions.some(r=>{const o=r.toLowerCase();return o==="video-course"?e.type==="video"||e.type==="course":o==="tutorial"?e.type==="article"||e.type==="tutorial":o==="practice"?e.type==="practice"||e.type==="project"||e.title.toLowerCase().includes("project")||e.title.toLowerCase().includes("practice"):e.type.toLowerCase().includes(o)||e.tags.some(w=>w.toLowerCase().includes(o))}))),s.value.learningGoal){const e=s.value.learningGoal.toLowerCase();a=a.filter(r=>r.title.toLowerCase().includes(e)||r.description.toLowerCase().includes(e)||r.tags.some(o=>o.toLowerCase().includes(e)))}if(s.value.resourceType){const e=s.value.resourceType.toLowerCase();a=a.filter(r=>r.type.toLowerCase().includes(e)||r.category.toLowerCase().includes(e)||r.tags.some(o=>o.toLowerCase().includes(e)))}if(s.value.duration){const e=s.value.duration.toLowerCase();a=a.filter(r=>r.duration.toLowerCase().includes(e))}if(u.value.type&&(a=a.filter(e=>e.type===u.value.type)),u.value.difficulty&&(a=a.filter(e=>e.difficulty===u.value.difficulty)),u.value.duration&&(a=a.filter(e=>e.duration===u.value.duration)),u.value.rating){const e=parseFloat(u.value.rating);a=a.filter(r=>r.rating>=e)}switch(n.value){case"rating":a.sort((e,r)=>r.rating-e.rating);break;case"date":a.sort((e,r)=>new Date(r.date).getTime()-new Date(e.date).getTime());break;case"views":a.sort((e,r)=>r.views-e.views);break}return a}),U=D(()=>Math.ceil(R.value.length/b.value)),ee=D(()=>{const a=(g.value-1)*b.value,e=a+b.value;return R.value.slice(a,e)}),te=D(()=>{const a=[],e=U.value,r=g.value;if(e<=7)for(let o=1;o<=e;o++)a.push(o);else if(r<=4){for(let o=1;o<=5;o++)a.push(o);a.push("..."),a.push(e)}else if(r>=e-3){a.push(1),a.push("...");for(let o=e-4;o<=e;o++)a.push(o)}else{a.push(1),a.push("...");for(let o=r-1;o<=r+1;o++)a.push(o);a.push("..."),a.push(e)}return a}),re=a=>{h.push(`/resource/${a}`)};P([u,n],()=>{g.value=1});const N=x(null);return q(()=>{Q();const a=h.currentRoute.value.query.q;a&&typeof a=="string"&&(m.value=a),oe(()=>{N.value&&N.value.focus()})}),(a,e)=>(i(),d("div",qe,[t("header",Je,[t("div",Ke,[t("div",Qe,[t("button",{onClick:e[0]||(e[0]=r=>a.$router.back()),class:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},[y(v(ve),{class:"h-5 w-5"})]),t("div",We,[y(v(A),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),f(t("input",{ref_key:"searchInput",ref:N,"onUpdate:modelValue":e[1]||(e[1]=r=>m.value=r),onKeyup:le(M,["enter"]),type:"text",placeholder:"搜索学习资源...",class:"w-full pl-10 pr-24 py-3 bg-gray-100 dark:bg-gray-700 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"},null,544),[[E,m.value]]),t("button",{onClick:M,class:"absolute right-2 top-1/2 transform -translate-y-1/2 px-4 py-1.5 bg-blue-500 hover:bg-blue-600 text-white text-sm rounded-full transition-colors"}," 搜索 ")]),t("button",{onClick:e[2]||(e[2]=r=>S.value=!S.value),class:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"},[y(v(be),{class:"h-5 w-5"})])]),t("div",Ze,[t("div",Xe,[t("div",Ye,[t("h4",et,[y(v(me),{class:"h-4 w-4 mr-2 text-blue-500"}),e[13]||(e[13]=$(" 学习目标 ",-1))]),t("div",tt,[(i(),d(C,null,_(F,r=>t("button",{key:r.value,onClick:o=>Z(r.value),class:k(["px-3 py-1.5 text-sm rounded-lg border transition-all duration-200",s.value.learningGoalOptions.includes(r.value)?"bg-blue-50 dark:bg-blue-900/20 border-blue-500 text-blue-700 dark:text-blue-300":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])},c(r.label),11,rt)),64))]),f(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>s.value.learningGoal=r),type:"text",placeholder:"例如：掌握React基础",class:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"},null,512),[[E,s.value.learningGoal]])]),t("div",at,[t("h4",st,[y(v(K),{class:"h-4 w-4 mr-2 text-green-500"}),e[14]||(e[14]=$(" 资源时长 ",-1))]),t("div",ot,[(i(),d(C,null,_(j,r=>t("button",{key:r.value,onClick:o=>X(r.value),class:k(["px-3 py-1.5 text-sm rounded-lg border transition-all duration-200",s.value.durationOptions.includes(r.value)?"bg-green-50 dark:bg-green-900/20 border-green-500 text-green-700 dark:text-green-300":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])},c(r.label),11,lt)),64))]),f(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>s.value.duration=r),type:"text",placeholder:"例如：1-2小时",class:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"},null,512),[[E,s.value.duration]])]),t("div",nt,[t("h4",it,[y(v(pe),{class:"h-4 w-4 mr-2 text-purple-500"}),e[15]||(e[15]=$(" 资源类型 ",-1))]),t("div",dt,[(i(),d(C,null,_(B,r=>t("button",{key:r.value,onClick:o=>Y(r.value),class:k(["px-3 py-1.5 text-sm rounded-lg border transition-all duration-200",s.value.resourceTypeOptions.includes(r.value)?"bg-purple-50 dark:bg-purple-900/20 border-purple-500 text-purple-700 dark:text-purple-300":"bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])},c(r.label),11,ut)),64))]),f(t("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>s.value.resourceType=r),type:"text",placeholder:"例如：视频课程",class:"w-full px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"},null,512),[[E,s.value.resourceType]])])])]),S.value?(i(),d("div",ct,[t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"类型",-1)),f(t("select",{"onUpdate:modelValue":e[6]||(e[6]=r=>u.value.type=r),class:"w-full bg-gray-100 dark:bg-gray-700 border-0 rounded-lg px-3 py-2 text-sm"},[...e[16]||(e[16]=[ne('<option value="" data-v-4d270a57>全部</option><option value="course" data-v-4d270a57>课程</option><option value="video" data-v-4d270a57>视频</option><option value="article" data-v-4d270a57>文章</option><option value="book" data-v-4d270a57>书籍</option><option value="tool" data-v-4d270a57>工具</option>',6)])],512),[[G,u.value.type]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"难度",-1)),f(t("select",{"onUpdate:modelValue":e[7]||(e[7]=r=>u.value.difficulty=r),class:"w-full bg-gray-100 dark:bg-gray-700 border-0 rounded-lg px-3 py-2 text-sm"},[...e[18]||(e[18]=[t("option",{value:""},"全部",-1),t("option",{value:"beginner"},"初级",-1),t("option",{value:"intermediate"},"中级",-1),t("option",{value:"advanced"},"高级",-1)])],512),[[G,u.value.difficulty]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"时长",-1)),f(t("select",{"onUpdate:modelValue":e[8]||(e[8]=r=>u.value.duration=r),class:"w-full bg-gray-100 dark:bg-gray-700 border-0 rounded-lg px-3 py-2 text-sm"},[...e[20]||(e[20]=[t("option",{value:""},"全部",-1),t("option",{value:"short"},"短篇 (< 30分钟)",-1),t("option",{value:"medium"},"中等 (30分钟-2小时)",-1),t("option",{value:"long"},"长篇 (> 2小时)",-1)])],512),[[G,u.value.duration]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"评分",-1)),f(t("select",{"onUpdate:modelValue":e[9]||(e[9]=r=>u.value.rating=r),class:"w-full bg-gray-100 dark:bg-gray-700 border-0 rounded-lg px-3 py-2 text-sm"},[...e[22]||(e[22]=[t("option",{value:""},"全部",-1),t("option",{value:"4.5"},"4.5星以上",-1),t("option",{value:"4.0"},"4.0星以上",-1),t("option",{value:"3.5"},"3.5星以上",-1)])],512),[[G,u.value.rating]])])])):T("",!0)])]),t("main",gt,[l.value?(i(),d("div",yt,[t("p",vt,[e[24]||(e[24]=$(" 找到 ",-1)),t("span",pt,c(R.value.length),1),e[25]||(e[25]=$(" 个相关结果 ",-1))]),t("div",bt,[e[27]||(e[27]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"排序:",-1)),f(t("select",{"onUpdate:modelValue":e[10]||(e[10]=r=>n.value=r),class:"bg-transparent border-0 text-sm focus:outline-none"},[...e[26]||(e[26]=[t("option",{value:"relevance"},"相关性",-1),t("option",{value:"rating"},"评分",-1),t("option",{value:"date"},"最新",-1),t("option",{value:"views"},"人气",-1)])],512),[[G,n.value]])])])):T("",!0),O.value?(i(),d("div",xt,[...e[28]||(e[28]=[t("svg",{class:"animate-spin h-10 w-10 text-blue-500 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),t("p",{class:"text-gray-500 dark:text-gray-400"},"正在搜索...",-1)])])):R.value.length>0?(i(),d("div",mt,[(i(!0),d(C,null,_(ee.value,(r,o)=>(i(),ie(Pe,{key:r.id,resource:r,rank:o+1,onClick:w=>re(r.id)},null,8,["resource","rank","onClick"]))),128))])):l.value&&R.value.length===0?(i(),d("div",ft,[y(v(A),{class:"h-16 w-16 text-gray-300 dark:text-gray-600 mb-4"}),e[29]||(e[29]=t("h3",{class:"text-lg font-semibold text-gray-600 dark:text-gray-400 mb-2"}," 没有找到相关结果 ",-1)),e[30]||(e[30]=t("p",{class:"text-gray-500 dark:text-gray-500"}," 尝试调整搜索关键词或筛选条件 ",-1))])):T("",!0),l.value?T("",!0):(i(),d("div",kt,[y(v(A),{class:"h-16 w-16 text-gray-300 dark:text-gray-600 mb-4"}),e[31]||(e[31]=t("h3",{class:"text-lg font-semibold text-gray-600 dark:text-gray-400 mb-2"}," 搜索学习资源 ",-1)),e[32]||(e[32]=t("p",{class:"text-gray-500 dark:text-gray-500 mb-6"}," 输入关键词或选择筛选条件，然后点击搜索按钮 ",-1)),t("div",ht,[(i(!0),d(C,null,_(L.value,r=>(i(),d("button",{key:r,onClick:o=>{m.value=r,M()},class:"px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-full text-sm transition-colors"},c(r),9,wt))),128))])])),l.value&&U.value>1?(i(),d("div",Ct,[t("div",_t,[t("button",{onClick:e[11]||(e[11]=r=>g.value--),disabled:g.value===1,class:"px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," 上一页 ",8,$t),(i(!0),d(C,null,_(te.value,r=>(i(),d("button",{key:r,onClick:o=>g.value=r,class:k(["px-3 py-2 rounded-lg transition-colors",g.value===r?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"])},c(r),11,Ot))),128)),t("button",{onClick:e[12]||(e[12]=r=>g.value++),disabled:g.value===U.value,class:"px-3 py-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"}," 下一页 ",8,St)])])):T("",!0)])]))}});const Bt=J(Lt,[["__scopeId","data-v-4d270a57"],["__file","E:/前端初级课程/program/EduMatch/src/views/SearchPage.vue"]]);export{Bt as default};
