import{d as ee,r as b,A as J,b as u,e as c,f as e,t as d,n as F,g as q,_ as te,o as fe,u as V,i as Q,p,F as X,j as Y,l as pe,w as j,v as T,h as be,G as ye}from"./index-0e60331d.js";import{useDatabaseStore as he}from"./database-6609ebe8.js";import{s as ke,g as we,m as Z,a as _e,b as De,c as n}from"./message-2c75333d.js";import"./supabase-b4265a88.js";const Ce={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},Me={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full p-6"},Se={class:"mb-4"},$e={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},He={class:"text-gray-600 dark:text-gray-400"},Ne={class:"flex justify-end space-x-3"},Ue=ee({__name:"ConfirmDialog",props:{title:{type:String,required:!1,default:"ç¡®è®¤æ“ä½œ"},message:{type:String,required:!0},confirmText:{type:String,required:!1,default:"ç¡®è®¤"},cancelText:{type:String,required:!1,default:"å–æ¶ˆ"},type:{type:String,required:!1,default:"info"}},emits:["confirm","cancel"],setup(E,{expose:h,emit:M}){const U=E,k=M,w=b(!1),S=J(()=>{const m="px-4 py-2 rounded-lg transition-colors font-medium";switch(U.type){case"danger":return`${m} bg-red-600 hover:bg-red-700 text-white`;case"warning":return`${m} bg-yellow-600 hover:bg-yellow-700 text-white`;default:return`${m} bg-blue-600 hover:bg-blue-700 text-white`}}),O=()=>{w.value=!0},f=()=>{w.value=!1},z=()=>{k("confirm"),f()},o=()=>{k("cancel"),f()};return h({show:O,hide:f}),(m,$)=>w.value?(u(),c("div",Ce,[e("div",Me,[e("div",Se,[e("h3",$e,d(E.title),1),e("p",He,d(E.message),1)]),e("div",Ne,[e("button",{onClick:o,class:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},d(E.cancelText==="å–æ¶ˆ"?"æ‰‹æ»‘äº†":E.cancelText),1),e("button",{onClick:z,class:F(S.value)}," ç¡®è®¤ ",2)])])])):q("",!0)}}),je=te(Ue,[["__file","E:/å‰ç«¯åˆçº§è¯¾ç¨‹/program/EduMatch/src/components/ConfirmDialog.vue"]]),Te={class:"p-6 md:p-8"},Ee=["innerHTML"],Be={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},Pe={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md"},Ve={class:"text-2xl font-bold text-blue-600 dark:text-blue-400"},qe={class:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-md"},ze={class:"text-2xl font-bold text-green-600 dark:text-green-400"},Ie={class:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden mb-8"},Oe={class:"p-6 border-b border-gray-100 dark:border-gray-700"},Le={class:"flex justify-between items-center"},Ae={class:"p-6"},Fe={key:0,class:"text-center py-12"},Re={key:1,class:"space-y-4"},Je={class:"flex justify-between items-start mb-3"},Ge={class:"font-semibold text-lg text-gray-900 dark:text-white"},We={class:"text-gray-600 dark:text-gray-400 text-sm"},Ke={class:"flex items-center space-x-2"},Qe=["onClick"],Xe=["onClick"],Ye={key:0,class:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg"},Ze={class:"flex items-start space-x-2"},et={class:"flex-1"},tt={class:"text-sm font-medium text-blue-900 dark:text-blue-100"},rt=["href"],st={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},ot={class:"grid grid-cols-3 gap-4 text-sm"},at={class:"font-medium"},lt={class:"font-medium"},nt={class:"font-medium"},it={class:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600"},dt={class:"flex justify-between items-center"},ut={class:"flex-1"},ct={class:"text-sm text-gray-600 dark:text-gray-400 mb-2"},gt={class:"font-medium"},mt={class:"font-medium"},vt={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},xt={class:"ml-4"},ft=["onClick","disabled"],pt={key:1,class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-lg flex items-center text-sm font-medium cursor-not-allowed",disabled:""},bt={key:2,class:"px-4 py-2 bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-lg flex items-center text-sm font-medium"},yt={key:1,class:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm flex items-center justify-center z-50 p-4"},ht={class:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col max-h-[90vh]"},kt={class:"px-6 py-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50"},wt={class:"space-y-3"},_t={class:"relative"},Dt={class:"relative"},Ct={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Mt={class:"relative"},St=["value"],$t={class:"relative"},Ht=["value"],Nt={key:2,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},Ut={class:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto"},jt={class:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700"},Tt={class:"p-6"},Et={key:0,class:"text-center py-8"},Bt={key:1,class:"text-center py-12"},Pt={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Vt=["onClick"],qt={class:"flex justify-between items-start mb-3"},zt={class:"flex-1"},It={class:"font-semibold text-gray-900 dark:text-white mb-1"},Ot={class:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2"},Lt={class:"ml-3"},At={class:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400"},Ft={class:"flex items-center"},Rt={class:"flex items-center space-x-3"},Jt={class:"flex items-center"},Gt={class:"flex items-center"},Wt=ee({__name:"StudyPlanPage",setup(E){const h=he(),M=b(!1),U=b(!1),k=b([]),w=b(!1),S=b(!1),O=b(),f=b(null),z=b({inProgress:0,completed:0}),o=b({title:"",description:"",startDate:"",dailyHours:2,totalHours:"",resourceName:"",resourceUrl:""}),m=b([]),$=J(()=>{const s=parseFloat(o.value.totalHours),t=parseFloat(o.value.dailyHours);return!s||!t||t<=0?0:Math.ceil(s/t)}),re=J(()=>{if(!o.value.startDate||$.value===0)return"";const s=new Date(o.value.startDate),t=$.value;if(isNaN(s.getTime()))return"";const r=new Date(s);return r.setDate(s.getDate()+t-1),r.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})}),G=async()=>{try{console.log("ğŸ”„ ä»æ•°æ®åº“åŠ è½½å­¦ä¹ è®¡åˆ’...");const s=await h.getClient();if(!s){console.error("âŒ è·å–æ•°æ®åº“å®¢æˆ·ç«¯å¤±è´¥"),n("æ•°æ®åº“è¿æ¥å¤±è´¥","error");return}const t=localStorage.getItem("currentUser");if(!t){console.log("âš ï¸ ç”¨æˆ·æœªç™»å½•ï¼Œæ˜¾ç¤ºç©ºå­¦ä¹ è®¡åˆ’åˆ—è¡¨"),m.value=[],I();return}const r=JSON.parse(t);console.log("âœ… è·å–åˆ°å½“å‰ç”¨æˆ·:",{id:r.id,username:r.username});const{data:l,error:g}=await s.from("study_plans").select("id").limit(1);if(g){console.error("âŒ è¡¨è®¿é—®æƒé™é”™è¯¯:",g),n("æ•°æ®åº“æƒé™ä¸è¶³ï¼Œè¯·è”ç³»ç®¡ç†å‘˜","error");return}const{data:x,error:y}=await s.from("study_plans").select("*").eq("user_id",r.id).order("created_at",{ascending:!1});if(y){console.error("âŒ æ•°æ®åº“åŠ è½½å¤±è´¥:",y),n("æ•°æ®åº“åŠ è½½å¤±è´¥ï¼Œæ˜¾ç¤ºé»˜è®¤æ•°æ®","warning");return}if(x&&x.length>0){console.log(`ğŸ“š æ‰¾åˆ° ${x.length} ä¸ªå­¦ä¹ è®¡åˆ’ï¼Œæ­£åœ¨åŠ è½½æ‰“å¡è®°å½•...`);const _=await Promise.all(x.map(async a=>{try{const{data:i,error:B}=await s.from("study_plan_checkins").select("*").eq("study_plan_id",a.id).order("checkin_date",{ascending:!1});if(B)return console.warn("âš ï¸ åŠ è½½æ‰“å¡è®°å½•å¤±è´¥:",B),{...a,checkinCount:0,checkins:[],isTodayChecked:!1,remainingDays:0,progress:a.progress||0};const v=(i==null?void 0:i.length)||0,H=new Date().toISOString().split("T")[0],A=(i==null?void 0:i.some(xe=>xe.checkin_date===H))||!1,P=a.startDate||a.start_date,N=a.targetDate||a.target_date,D=P?new Date(P):null,C=N?new Date(N):null,me=new Date,W=1e3*60*60*24,R=D&&C&&!isNaN(D.getTime())&&!isNaN(C.getTime())?Math.max(1,Math.ceil((C.getTime()-D.getTime())/W)):1,ve=C&&!isNaN(C.getTime())?Math.max(1,Math.ceil((C.getTime()-me.getTime())/W)):1,K=R>0?Math.min(100,Math.round(v/R*100)):a.progress||0;return console.log(`ğŸ“ˆ å­¦ä¹ è®¡åˆ’ "${a.title}": ${v}æ¬¡æ‰“å¡ï¼Œè¿›åº¦${K}%`),{...a,checkinCount:v,checkins:i||[],isTodayChecked:A,remainingDays:ve,totalDays:R||a.totalDays||0,progress:K,startDate:a.startDate||a.start_date,targetDate:a.targetDate||a.target_date,dailyHours:a.dailyHours||a.daily_hours,resourceName:a.resourceName||a.resource_name,resourceUrl:a.resourceUrl||a.resource_url}}catch(i){return console.error("Error processing study plan "+a.id+":",i),{...a,checkinCount:0,checkins:[],isTodayChecked:!1,remainingDays:0,progress:a.progress||0,resourceName:a.resourceName||a.resource_name,resourceUrl:a.resourceUrl||a.resource_url,startDate:a.startDate||a.start_date,targetDate:a.targetDate||a.target_date,dailyHours:a.dailyHours||a.daily_hours}}}));m.value=_}else console.log("User has no study plans"),m.value=[]}catch(s){console.error("âŒ åŠ è½½å­¦ä¹ è®¡åˆ’æ—¶å‡ºé”™:",s),n("åŠ è½½å­¦ä¹ è®¡åˆ’å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•","error"),m.value=[]}finally{I()}},I=()=>{const s=m.value.filter(r=>r.status==="in_progress").length,t=m.value.filter(r=>r.status==="completed").length;z.value={inProgress:s,completed:t}},se=async()=>{if(!o.value.title||o.value.title.trim()===""){n("è¯·å¡«å†™è®¡åˆ’æ ‡é¢˜","warning");return}if(!o.value.startDate||o.value.startDate.trim()===""){n("è¯·é€‰æ‹©å¼€å§‹æ—¥æœŸ","warning");return}const s=new Date(o.value.startDate);if(isNaN(s.getTime())){n("å¼€å§‹æ—¥æœŸæ ¼å¼ä¸æ­£ç¡®","error");return}const t=parseFloat(o.value.totalHours),r=parseFloat(o.value.dailyHours);if(!t||t<=0){n("è¯·å¡«å†™å­¦ä¹ æ€»æ—¶é•¿","warning");return}if(t<r){n("å­¦ä¹ æ€»æ—¶é•¿ä¸èƒ½å°äºæ¯æ—¥å­¦ä¹ æ—¶é—´","warning");return}if(isNaN(r)||r<.5||r>24){n("æ¯æ—¥å­¦ä¹ æ—¶é—´å¿…é¡»åœ¨0.5åˆ°24å°æ—¶ä¹‹é—´","warning");return}try{console.log("ğŸ”„ å‡†å¤‡åˆ›å»ºå­¦ä¹ è®¡åˆ’...");let l=null;if(typeof window<"u"){const v=localStorage.getItem("currentUser");v&&(l=JSON.parse(v))}if(!l||!l.id){n("è¯·å…ˆç™»å½•åå†åˆ›å»ºå­¦ä¹ è®¡åˆ’","warning");return}console.log("âœ… è·å–åˆ°å½“å‰ç”¨æˆ·:",{id:l.id,username:l.username});let g=await h.getClient();if(g||(await h.reconnect(),g=await h.getClient()),!g){n("æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Œè¯·é‡è¯•","error");return}let x=null;if(o.value.startDate&&$.value>0){const v=new Date(o.value.startDate),H=new Date(v);H.setDate(v.getDate()+$.value-1),x=H.toISOString().split("T")[0]}const y={user_id:l.id,title:o.value.title,description:o.value.description,progress:0,status:"in_progress",start_date:o.value.startDate,target_date:x,daily_hours:o.value.dailyHours,total_hours:o.value.totalHours?parseFloat(o.value.totalHours):null,resource_name:o.value.resourceName,resource_url:o.value.resourceUrl,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("ğŸ“ æ’å…¥æ•°æ®:",y);const{data:_,error:a}=await g.from("study_plans").insert([y]).select();if(a)throw console.error("âŒ æ•°æ®åº“æ’å…¥å¤±è´¥:",a),new Error(`æ•°æ®åº“ä¿å­˜å¤±è´¥: ${a.message}`);console.log("âœ… æ•°æ®åº“ä¿å­˜æˆåŠŸ:",_);const i=Array.isArray(_)?_[0]:_;if(!i||!i.id)throw new Error("åˆ›å»ºè®¡åˆ’å¤±è´¥ï¼šè¿”å›æ•°æ®æ— æ•ˆ");const B={id:i.id,title:i.title||o.value.title,description:i.description||o.value.description,progress:i.progress||0,status:i.status||"in_progress",startDate:i.start_date||o.value.startDate,targetDate:i.target_date||x,dailyHours:i.daily_hours||o.value.dailyHours,resourceName:i.resource_name||o.value.resourceName,resourceUrl:i.resource_url||o.value.resourceUrl,checkinCount:0,totalDays:$.value,remainingDays:$.value,isTodayChecked:!1,checkins:[]};m.value.unshift(B),I(),M.value=!1,n("å­¦ä¹ è®¡åˆ’åˆ›å»ºæˆåŠŸï¼","success"),o.value={title:"",description:"",startDate:"",dailyHours:2,totalHours:"",resourceName:"",resourceUrl:""}}catch(l){console.error("âŒ åˆ›å»ºå­¦ä¹ è®¡åˆ’å¤±è´¥:",l),n("åˆ›å»ºå­¦ä¹ è®¡åˆ’å¤±è´¥ï¼š"+(l instanceof Error?l.message:"æœªçŸ¥é”™è¯¯"),"error")}},oe=()=>{M.value=!1,o.value={title:"",description:"",startDate:"",dailyHours:2,totalHours:"",resourceName:"",resourceUrl:""}},ae=async()=>{w.value=!0;try{console.log("ğŸ”„ å¼€å§‹è·å–ç”¨æˆ·èµ„æº...");let s=null;if(typeof window<"u"){const g=localStorage.getItem("currentUser");g&&(s=JSON.parse(g))}if(!s||!s.id){console.log("âš ï¸ ç”¨æˆ·æœªç™»å½•"),k.value=[],w.value=!1;return}console.log("âœ… å½“å‰ç”¨æˆ·ID:",s.id);let t=await h.getClient();if(!t){console.error("âŒ æ•°æ®åº“è¿æ¥å¤±è´¥"),w.value=!1;return}let{data:r,error:l}=await t.from("resources").select("*").eq("created_by",s.id).order("created_at",{ascending:!1});if(l){console.error("âŒ è·å–ç”¨æˆ·èµ„æºå¤±è´¥:",l),n("è·å–èµ„æºå¤±è´¥ï¼Œè¯·æ£€æŸ¥æ•°æ®åº“è¿æ¥","error");return}console.log("ğŸ“Š è·å–åˆ°çš„èµ„æºæ•°æ®:",r),k.value=r||[],k.value.length>0?console.log(`âœ… æˆåŠŸåŠ è½½ ${k.value.length} ä¸ªèµ„æº`):console.log("â„¹ï¸ ç”¨æˆ·æ²¡æœ‰åˆ›å»ºä»»ä½•èµ„æº")}catch(s){console.error("âŒ è·å–ç”¨æˆ·èµ„æºé”™è¯¯:",s)}finally{w.value=!1}},le=s=>{if(o.value.resourceName=s.title,o.value.resourceUrl=s.url||"",s.duration){const t=s.duration.match(/\d+(\.\d+)?/);t&&(o.value.totalHours=t[0])}U.value=!1,n(`å·²é€‰æ‹©èµ„æº: ${s.title}${s.duration?`ï¼Œå­¦ä¹ æ—¶é•¿: ${s.duration}`:""}`,"success")},ne=s=>({è§†é¢‘:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",æ–‡æ¡£:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",è¯¾ç¨‹:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300",ä¹¦ç±:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",å·¥å…·:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300",ç½‘ç«™:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/20 dark:text-indigo-300"})[s]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300",L=s=>{if(!s)return"æœªè®¾ç½®";try{const t=new Date(s);return isNaN(t.getTime())?"æ— æ•ˆæ—¥æœŸ":t.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(t){return console.error("æ—¥æœŸæ ¼å¼åŒ–é”™è¯¯:",t),"æ—¥æœŸé”™è¯¯"}},ie=async s=>{if(!S.value)try{S.value=!0;const t=await h.getClient();if(!t)throw new Error("æ•°æ®åº“è¿æ¥å¤±è´¥");const r=localStorage.getItem("currentUser");if(!r)throw new Error("ç”¨æˆ·æœªç™»å½•ï¼Œè¯·å…ˆç™»å½•");const l=JSON.parse(r);console.log("âœ… è·å–åˆ°å½“å‰ç”¨æˆ·:",{id:l.id,username:l.username});const g=s.startDate||s.start_date;if(g){const N=new Date().toISOString().split("T")[0],D=new Date(g).toISOString().split("T")[0];if(console.log(`ğŸ“… éªŒè¯æ—¥æœŸ: ä»Šå¤©=${N}, å¼€å§‹æ—¥æœŸ=${D}`),N<D){n(`æ‰“å¡æ—¥æœŸä¸èƒ½æ—©äºè®¡åˆ’å¼€å§‹æ—¥æœŸ ${L(g)}`,"warning"),S.value=!1;return}}const x=new Date,y=x.toISOString().split("T")[0],{data:_,error:a}=await t.from("study_plan_checkins").select("*").eq("study_plan_id",s.id).eq("user_id",l.id).eq("checkin_date",y);if(a)throw console.error("âŒ æ£€æŸ¥æ‰“å¡è®°å½•å¤±è´¥:",a),a.code==="PGRST116"?new Error("æ‰“å¡è¡¨ä¸å­˜åœ¨ï¼Œè¯·è”ç³»ç®¡ç†å‘˜åˆ›å»º"):new Error(`æ£€æŸ¥æ‰“å¡è®°å½•å¤±è´¥: ${a.message}`);if(_&&_.length>0){n("ä»Šå¤©å·²ç»æ‰“è¿‡å¡äº†ï¼","info");return}const i=x.toISOString(),{data:B,error:v}=await t.from("study_plan_checkins").insert([{study_plan_id:s.id,user_id:l.id,checkin_date:y,checkin_time:i,notes:`å­¦ä¹ è®¡åˆ’ï¼š${s.title}`}]).select();if(v)throw console.error("âŒ æ‰“å¡å¤±è´¥:",v),v.code==="42501"?new Error("æƒé™è¢«æ‹’ç»ï¼Œè¯·è”ç³»ç®¡ç†å‘˜æ£€æŸ¥RLSç­–ç•¥"):v.code==="PGRST116"?new Error("æ‰“å¡è¡¨ä¸å­˜åœ¨ï¼Œè¯·è”ç³»ç®¡ç†å‘˜åˆ›å»º"):new Error(`æ‰“å¡å¤±è´¥: ${v.message}`);console.log("âœ… æ‰“å¡æˆåŠŸ:",B);const{data:H,error:A}=await t.from("study_plan_checkins").select("*").eq("study_plan_id",s.id).eq("user_id",l.id);if(A)console.error("âŒ è·å–æ‰“å¡è®°å½•å¤±è´¥:",A);else{const P=(H==null?void 0:H.length)||0,N=s.totalDays||1,D=Math.round(P/N*100);if(console.log(`ğŸ“ˆ æ‰“å¡åè¿›åº¦: ${P}/${N} = ${D}%`),D>=100){const{error:C}=await t.from("study_plans").update({status:"completed",progress:100,updated_at:new Date().toISOString()}).eq("id",s.id).eq("user_id",l.id);C?(console.error("âŒ æ›´æ–°è®¡åˆ’çŠ¶æ€å¤±è´¥:",C),n("æ‰“å¡æˆåŠŸï¼Œä½†æ›´æ–°è®¡åˆ’çŠ¶æ€å¤±è´¥","warning")):(console.log("ğŸ‰ å­¦ä¹ è®¡åˆ’å·²å®Œæˆï¼"),n("ğŸ‰ æ­å–œï¼å­¦ä¹ è®¡åˆ’å·²å®Œæˆï¼","success"))}else n("æ‰“å¡æˆåŠŸï¼ç»§ç»­ä¿æŒå­¦ä¹ èŠ‚å¥ï¼","success")}await G()}catch(t){console.error("âŒ æ‰“å¡åŠŸèƒ½é”™è¯¯:",t),n(`æ‰“å¡å¤±è´¥: ${t.message}`,"error")}finally{S.value=!1}},de=()=>{U.value=!0,ae()},ue=s=>{router.push(`/study-plan/${s}`)},ce=s=>{var t;f.value=s,(t=O.value)==null||t.show()},ge=async()=>{if(!f.value){n("è¯·é€‰æ‹©è¦åˆ é™¤çš„å­¦ä¹ è®¡åˆ’","warning");return}try{const s=await h.getClient();if(!s)throw new Error("æ•°æ®åº“è¿æ¥å¤±è´¥");const t=localStorage.getItem("currentUser");if(!t)throw new Error("ç”¨æˆ·æœªç™»å½•ï¼Œè¯·å…ˆç™»å½•");const r=JSON.parse(t),{error:l}=await s.from("study_plan_checkins").delete().eq("study_plan_id",f.value.id).eq("user_id",r.id);l&&console.error("âŒ åˆ é™¤æ‰“å¡è®°å½•å¤±è´¥:",l);const{error:g}=await s.from("study_plans").delete().eq("id",f.value.id).eq("user_id",r.id);if(g)throw console.error("âŒ åˆ é™¤å­¦ä¹ è®¡åˆ’å¤±è´¥:",g),new Error(`åˆ é™¤å¤±è´¥: ${g.message}`);console.log("âœ… å­¦ä¹ è®¡åˆ’åˆ é™¤æˆåŠŸ:",f.value.title);const x=m.value.findIndex(y=>y.id===f.value.id);x>-1&&m.value.splice(x,1),I(),n(`å­¦ä¹ è®¡åˆ’"${f.value.title}"å·²åˆ é™¤`,"success"),f.value=null}catch(s){console.error("âŒ åˆ é™¤å­¦ä¹ è®¡åˆ’æ—¶å‡ºé”™:",s),n(`åˆ é™¤å¤±è´¥: ${s.message}`,"error")}};return fe(()=>{I(),G()}),(s,t)=>(u(),c("div",Te,[V(ke)?(u(),c("div",{key:0,class:F([V(we)(V(Z)),"flex items-center space-x-2"])},[e("span",{innerHTML:V(_e)(V(Z))},null,8,Ee),e("span",null,d(V(De)),1)],2)):q("",!0),e("div",Be,[e("div",Pe,[t[12]||(t[12]=Q('<div class="flex items-center justify-between mb-4" data-v-e5573477><div class="bg-blue-100 dark:bg-blue-900/20 p-3 rounded-lg" data-v-e5573477><svg class="h-6 w-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-e5573477><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" data-v-e5573477></path></svg></div></div><h3 class="text-lg font-semibold text-gray-900 dark:text-white" data-v-e5573477>è¿›è¡Œä¸­</h3>',2)),e("p",Ve,d(z.value.inProgress),1),t[13]||(t[13]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"ä¸ªå­¦ä¹ è®¡åˆ’",-1))]),e("div",qe,[t[14]||(t[14]=Q('<div class="flex items-center justify-between mb-4" data-v-e5573477><div class="bg-green-100 dark:bg-green-900/20 p-3 rounded-lg" data-v-e5573477><svg class="h-6 w-6 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-e5573477><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-e5573477></path></svg></div></div><h3 class="text-lg font-semibold text-gray-900 dark:text-white" data-v-e5573477>å·²å®Œæˆ</h3>',2)),e("p",ze,d(z.value.completed),1),t[15]||(t[15]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"ä¸ªå­¦ä¹ è®¡åˆ’",-1))])]),e("div",Ie,[e("div",Oe,[e("div",Le,[t[17]||(t[17]=e("h2",{class:"text-xl font-semibold text-gray-900 dark:text-white flex items-center"},[e("svg",{class:"h-5 w-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})]),p(" å½“å‰å­¦ä¹ è®¡åˆ’ ")],-1)),e("button",{onClick:t[0]||(t[0]=r=>M.value=!0),class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center text-sm font-medium"},[...t[16]||(t[16]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),p(" åˆ›å»ºæ–°çš„å­¦ä¹ è®¡åˆ’ ",-1)])])])]),e("div",Ae,[m.value.length===0?(u(),c("div",Fe,[t[18]||(t[18]=e("svg",{class:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),t[19]||(t[19]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"æš‚æ— å­¦ä¹ è®¡åˆ’",-1)),t[20]||(t[20]=e("p",{class:"text-gray-500 dark:text-gray-400 mb-6"},"æ‚¨è¿˜æ²¡æœ‰åˆ›å»ºä»»ä½•å­¦ä¹ è®¡åˆ’",-1)),e("button",{onClick:t[1]||(t[1]=r=>M.value=!0),class:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors"}," åˆ›å»ºç¬¬ä¸€ä¸ªè®¡åˆ’ ")])):(u(),c("div",Re,[(u(!0),c(X,null,Y(m.value,r=>(u(),c("div",{key:r.id,class:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:shadow-md transition-shadow"},[e("div",Je,[e("div",null,[e("h3",Ge,d(r.title),1),e("p",We,d(r.description),1)]),e("div",Ke,[e("span",{class:F(`px-3 py-1 rounded-full text-xs font-medium ${r.status==="in_progress"?"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400"}`)},d(r.status==="in_progress"?"è¿›è¡Œä¸­":"å·²å®Œæˆ"),3),e("button",{onClick:l=>ue(r.id),class:"p-1.5 text-blue-500 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"æŸ¥çœ‹è¯¦æƒ…"},[...t[21]||(t[21]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,Qe),e("button",{onClick:l=>ce(r),class:"p-1.5 text-red-500 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"åˆ é™¤å­¦ä¹ è®¡åˆ’"},[...t[22]||(t[22]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Xe)])]),r.resourceName||r.resourceUrl?(u(),c("div",Ye,[e("div",Ze,[t[24]||(t[24]=e("svg",{class:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})],-1)),e("div",et,[e("p",tt,d(r.resourceName||"å…³è”èµ„æº"),1),r.resourceUrl&&r.resourceUrl.trim()!==""?(u(),c("a",{key:0,href:r.resourceUrl,target:"_blank",rel:"noopener noreferrer",class:"text-sm text-blue-600 dark:text-blue-400 hover:underline flex items-center mt-1"},[...t[23]||(t[23]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),p(" è®¿é—®èµ„æº ",-1)])],8,rt)):(u(),c("span",st," æ— èµ„æºé“¾æ¥ "))])])])):q("",!0),e("div",ot,[e("div",null,[t[25]||(t[25]=e("span",{class:"text-gray-500 dark:text-gray-400"},"å¼€å§‹æ—¶é—´",-1)),e("div",at,d(L(r.startDate||r.start_date)),1)]),e("div",null,[t[26]||(t[26]=e("span",{class:"text-gray-500 dark:text-gray-400"},"ç›®æ ‡æ—¶é—´",-1)),e("div",lt,d(L(r.targetDate||r.target_date)),1)]),e("div",null,[t[27]||(t[27]=e("span",{class:"text-gray-500 dark:text-gray-400"},"æ¯æ—¥æ—¶é•¿",-1)),e("div",nt,d(r.dailyHours||r.daily_hours)+"å°æ—¶",1)])]),e("div",it,[e("div",dt,[e("div",ut,[e("div",ct,[e("span",gt,d(r.checkinCount||0),1),t[28]||(t[28]=p(" / ",-1)),e("span",mt,d(r.totalDays||0),1),t[29]||(t[29]=p(" å¤© ",-1)),t[30]||(t[30]=e("span",{class:"mx-2"},"â€¢",-1)),e("span",null,"å‰©ä½™ "+d(r.remainingDays||0)+" å¤©",1)]),e("div",vt,[e("div",{class:"bg-green-600 dark:bg-green-400 h-2 rounded-full transition-all duration-300",style:ye({width:`${r.progress}%`})},null,4)])]),e("div",xt,[r.status==="in_progress"&&!r.isTodayChecked?(u(),c("button",{key:0,onClick:l=>ie(r),class:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center text-sm font-medium",disabled:S.value},[t[31]||(t[31]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),p(" "+d(S.value?"æ‰“å¡ä¸­...":"ä»Šæ—¥æ‰“å¡"),1)],8,ft)):r.status==="in_progress"&&r.isTodayChecked?(u(),c("button",pt,[...t[32]||(t[32]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),p(" ä»Šæ—¥å·²æ‰“å¡ ",-1)])])):r.status==="completed"?(u(),c("div",bt,[...t[33]||(t[33]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),p(" å·²å®Œæˆ ",-1)])])):q("",!0)])])])]))),128))]))])]),M.value?(u(),c("div",yt,[e("div",ht,[e("div",kt,[t[35]||(t[35]=e("h2",{class:"text-lg font-bold text-slate-800"},"åˆ›å»ºå­¦ä¹ è®¡åˆ’",-1)),e("button",{onClick:t[2]||(t[2]=r=>M.value=!1),class:"p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-colors"},[...t[34]||(t[34]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:pe(se,["prevent"]),class:"p-6 overflow-y-auto space-y-5"},[e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"}," è®¡åˆ’æ ‡é¢˜ * ",-1)),j(e("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>o.value.title=r),type:"text",required:"",class:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"ä¾‹å¦‚ï¼šå‰ç«¯å¼€å‘è¿›é˜¶"},null,512),[[T,o.value.title]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"}," è®¡åˆ’æè¿° ",-1)),j(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=r=>o.value.description=r),rows:"3",class:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none",placeholder:"æè¿°ä½ çš„å­¦ä¹ ç›®æ ‡å’Œå†…å®¹ï¼ˆé€‰å¡«ï¼‰"},null,512),[[T,o.value.description]])]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"}," å…³è”å­¦ä¹ èµ„æº ",-1)),e("div",wt,[e("div",null,[j(e("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>o.value.resourceName=r),type:"text",class:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"è¾“å…¥å…³è”çš„å­¦ä¹ èµ„æºåç§°ï¼ˆé€‰å¡«ï¼‰"},null,512),[[T,o.value.resourceName]])]),e("div",null,[j(e("input",{"onUpdate:modelValue":t[6]||(t[6]=r=>o.value.resourceUrl=r),type:"url",class:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"è¾“å…¥èµ„æºé“¾æ¥ï¼ˆé€‰å¡«ï¼‰"},null,512),[[T,o.value.resourceUrl]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"}," å­¦ä¹ æ€»æ—¶é•¿ï¼ˆå°æ—¶ï¼‰ ",-1)),e("div",_t,[j(e("input",{"onUpdate:modelValue":t[7]||(t[7]=r=>o.value.totalHours=r),type:"number",min:"0",step:"0.5",class:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none no-spinner",placeholder:"ä¾‹å¦‚ï¼š10.5ï¼ˆé€‰å¡«ï¼‰"},null,512),[[T,o.value.totalHours]]),t[38]||(t[38]=e("span",{class:"absolute right-4 top-2.5 text-slate-500"},"å°æ—¶",-1))]),t[40]||(t[40]=e("p",{class:"text-xs text-slate-500 mt-1"},"å¡«å†™è¯¥èµ„æºçš„æ€»å­¦ä¹ æ—¶é•¿ï¼ˆå¯é€‰ï¼‰",-1))]),e("div",null,[e("button",{type:"button",onClick:de,class:"w-full px-4 py-2.5 bg-indigo-100 text-indigo-600 border border-indigo-200 rounded-xl hover:bg-indigo-200 transition-colors flex items-center justify-center font-medium"},[...t[41]||(t[41]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),p(" ä»æˆ‘çš„èµ„æºä¸­é€‰æ‹© ",-1)])])])])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"}," å¼€å§‹æ—¥æœŸ * ",-1)),j(e("input",{"onUpdate:modelValue":t[8]||(t[8]=r=>o.value.startDate=r),type:"date",required:"",class:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"},null,512),[[T,o.value.startDate]])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"}," æ¯æ—¥å­¦ä¹ æ—¶é—´ï¼ˆå°æ—¶ï¼‰ * ",-1)),e("div",Dt,[j(e("input",{"onUpdate:modelValue":t[9]||(t[9]=r=>o.value.dailyHours=r),type:"number",min:"0.5",max:"24",step:"0.5",required:"",class:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none appearance-none",placeholder:"ä¾‹å¦‚ï¼š2.5",style:{"-moz-appearance":"textfield","-webkit-appearance":"none",appearance:"none"}},null,512),[[T,o.value.dailyHours]]),t[44]||(t[44]=e("span",{class:"absolute right-4 top-2.5 text-slate-500"},"å°æ—¶",-1))]),t[46]||(t[46]=e("p",{class:"text-xs text-slate-500 mt-1"},"å»ºè®®æ¯æ—¥å­¦ä¹ 0.5åˆ°24å°æ—¶",-1))]),e("div",Ct,[e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"}," å­¦ä¹ å¤©æ•° ",-1)),e("div",Mt,[e("input",{value:$.value,type:"number",readonly:"",class:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-slate-700"},null,8,St),t[47]||(t[47]=e("span",{class:"absolute right-4 top-2.5 text-slate-500"},"å¤©",-1))])]),e("div",null,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1.5"}," é¢„è®¡å®Œæˆæ—¥æœŸ ",-1)),e("div",$t,[e("input",{value:re.value,type:"text",readonly:"",class:"w-full px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-slate-700"},null,8,Ht),t[49]||(t[49]=e("svg",{class:"absolute right-3 top-3 w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1))])])]),e("div",{class:"px-6 py-4 bg-slate-50 border-t border-slate-100 flex justify-end gap-3"},[e("button",{type:"button",onClick:oe,class:"px-5 py-2 text-slate-600 font-medium hover:bg-white border border-transparent hover:border-slate-200 rounded-lg transition-all"}," å–æ¶ˆ "),t[51]||(t[51]=e("button",{type:"submit",class:"px-5 py-2 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 shadow-md hover:shadow-lg transition-all"}," åˆ›å»ºè®¡åˆ’ ",-1))])],32)])])):q("",!0),U.value?(u(),c("div",Nt,[e("div",Ut,[e("div",jt,[t[53]||(t[53]=e("h2",{class:"text-xl font-bold text-gray-900 dark:text-white"},"é€‰æ‹©å­¦ä¹ èµ„æº",-1)),e("button",{onClick:t[10]||(t[10]=r=>U.value=!1),class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors"},[...t[52]||(t[52]=[e("svg",{class:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Tt,[w.value?(u(),c("div",Et,[...t[54]||(t[54]=[e("svg",{class:"animate-spin h-8 w-8 text-blue-500 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),e("p",{class:"text-gray-500 dark:text-gray-400 mt-2"},"åŠ è½½ä¸­...",-1)])])):k.value.length===0?(u(),c("div",Bt,[t[55]||(t[55]=e("svg",{class:"h-16 w-16 text-gray-300 dark:text-gray-600 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})],-1)),t[56]||(t[56]=e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"æš‚æ— åˆ›å»ºçš„èµ„æº",-1)),t[57]||(t[57]=e("p",{class:"text-gray-500 dark:text-gray-400 mb-6"},"æ‚¨è¿˜æ²¡æœ‰åˆ›å»ºä»»ä½•å­¦ä¹ èµ„æº",-1)),e("button",{onClick:t[11]||(t[11]=r=>U.value=!1),class:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors"}," å…³é—­ ")])):(u(),c("div",Pt,[(u(!0),c(X,null,Y(k.value,r=>(u(),c("div",{key:r.id,class:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:l=>le(r)},[e("div",qt,[e("div",zt,[e("h4",It,d(r.title),1),e("p",Ot,d(r.description),1)]),e("div",Lt,[e("span",{class:F(`px-2 py-1 text-xs rounded-full ${ne(r.type)}`)},d(r.type),3)])]),e("div",At,[e("div",Ft,[t[58]||(t[58]=e("svg",{class:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),p(" "+d(L(r.created_at)),1)]),e("div",Rt,[e("div",Jt,[t[59]||(t[59]=e("svg",{class:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),p(" "+d(r.views||0),1)]),e("div",Gt,[t[60]||(t[60]=e("svg",{class:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)),p(" "+d(r.likes||0),1)])])])],8,Vt))),128))]))])])])):q("",!0),be(je,{ref_key:"deleteConfirmDialog",ref:O,title:"åˆ é™¤å­¦ä¹ è®¡åˆ’",message:"ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå­¦ä¹ è®¡åˆ’å—ï¼Ÿåˆ é™¤åå°†æ— æ³•æ¢å¤ï¼Œç›¸å…³çš„æ‰“å¡è®°å½•ä¹Ÿä¼šè¢«åˆ é™¤ã€‚","confirm-text":"ç¡®è®¤åˆ é™¤","cancel-text":"æ‰‹æ»‘äº†",type:"danger",onConfirm:ge},null,512)]))}});const Zt=te(Wt,[["__scopeId","data-v-e5573477"],["__file","E:/å‰ç«¯åˆçº§è¯¾ç¨‹/program/EduMatch/src/views/StudyPlanPage.vue"]]);export{Zt as default};
