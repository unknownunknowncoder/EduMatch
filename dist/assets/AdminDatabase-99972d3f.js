import{d as X,s as Y,r as c,o as Z,J as tt,b as n,e as l,n as M,t as r,g as d,f as t,F as f,j as _,p as T,l as z,G as et,_ as st}from"./index-0e60331d.js";import{useDatabaseStore as ot}from"./database-6609ebe8.js";import"./supabase-b4265a88.js";const rt={class:"min-h-screen bg-gray-50"},nt={class:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50"},lt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},at={class:"flex justify-between items-center h-16"},it={class:"flex items-center space-x-4"},dt={class:"text-sm text-gray-500"},ct={class:"text-sm text-gray-500"},ut={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},xt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},pt={class:"bg-white rounded-lg shadow p-6"},gt={class:"flex items-center"},yt={class:"ml-4"},mt={class:"text-2xl font-bold text-gray-900"},ht={class:"bg-white rounded-lg shadow p-6"},vt={class:"flex items-center"},ft={class:"ml-4"},_t={class:"text-2xl font-bold text-gray-900"},wt={class:"bg-white rounded-lg shadow p-6"},bt={class:"flex items-center"},kt={class:"ml-4"},Ct={class:"text-2xl font-bold text-gray-900"},Dt={class:"bg-white rounded-lg shadow p-6"},Mt={class:"flex items-center"},jt={class:"ml-4"},Bt={class:"text-2xl font-bold text-gray-900"},zt={class:"bg-white rounded-lg shadow"},Vt={class:"border-b border-gray-200"},Pt={class:"flex space-x-8 px-6","aria-label":"Tabs"},St=["onClick"],Ut={class:"flex items-center"},Et={class:"w-4 h-4 mr-2 inline-flex items-center justify-center"},At={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Tt={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$t={key:2,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ht={key:3,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},It={key:0,class:"ml-2 px-2 py-0.5 text-xs bg-gray-100 rounded-full"},Nt={class:"p-6"},Rt={key:0,class:"space-y-6"},Wt={class:"flex justify-between items-center"},Ft=["disabled"],Lt={class:"overflow-x-auto"},Jt={class:"min-w-full divide-y divide-gray-200"},Gt={class:"bg-white divide-y divide-gray-200"},Ot={key:0},qt={key:1},Kt=["onClick"],Qt={class:"px-4 py-4"},Xt={class:"flex items-center min-w-0"},Yt={class:"flex-shrink-0 h-12 w-12"},Zt={class:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center ring-2 ring-gray-200"},te={class:"text-lg font-bold text-white"},ee={class:"ml-4 min-w-0 flex-1"},se={class:"text-sm font-medium text-gray-900 truncate"},oe={class:"text-xs text-gray-500 truncate"},re={class:"px-4 py-4"},ne={class:"text-sm text-gray-500"},le={class:"px-4 py-4"},ae={class:"text-sm text-gray-500 max-w-xs truncate"},ie={class:"px-4 py-4"},de={class:"flex items-center justify-between"},ce={key:1,class:"space-y-6"},ue={class:"flex justify-between items-center"},xe=["disabled"],pe={class:"overflow-x-auto"},ge={class:"min-w-full divide-y divide-gray-200"},ye={class:"bg-white divide-y divide-gray-200"},me={key:0},he={key:1},ve={class:"px-6 py-4"},fe={class:"text-sm font-medium text-gray-900 truncate max-w-xs"},_e={class:"px-6 py-4 text-sm text-gray-500"},we={class:"px-6 py-4"},be={class:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800"},ke={class:"px-6 py-4 text-sm text-gray-500"},Ce={class:"px-6 py-4 text-sm text-gray-500"},De={class:"px-6 py-4"},Me=["onClick"],je={key:2,class:"space-y-6"},Be={class:"flex justify-between items-center"},ze=["disabled"],Ve={class:"overflow-x-auto"},Pe={class:"min-w-full divide-y divide-gray-200"},Se={class:"bg-white divide-y divide-gray-200"},Ue={key:0},Ee={key:1},Ae={class:"px-6 py-4"},Te={class:"text-sm font-medium text-gray-900 truncate max-w-xs"},$e={class:"px-6 py-4 text-sm text-gray-500"},He={class:"px-6 py-4"},Ie={class:"flex items-center"},Ne={class:"w-full max-w-xs"},Re={class:"flex items-center justify-between mb-1"},We={class:"text-sm font-medium text-gray-900"},Fe={class:"w-full bg-gray-200 rounded-full h-2"},Le={class:"px-6 py-4 text-sm text-gray-500"},Je={class:"px-6 py-4 text-sm text-gray-500"},Ge={class:"px-6 py-4"},Oe=["onClick"],qe={key:3,class:"space-y-6"},Ke={class:"flex justify-between items-center"},Qe=["disabled"],Xe={class:"overflow-x-auto"},Ye={class:"min-w-full divide-y divide-gray-200"},Ze={class:"bg-white divide-y divide-gray-200"},ts={key:0},es={key:1},ss={class:"px-6 py-4"},os={class:"text-sm font-medium text-gray-900 truncate max-w-xs"},rs={class:"px-6 py-4"},ns={class:"px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800"},ls={class:"px-6 py-4"},as={class:"px-2 py-1 text-xs rounded-full bg-orange-100 text-orange-800"},is={class:"px-6 py-4 text-sm text-gray-500"},ds={class:"px-6 py-4 text-sm text-gray-500"},cs={class:"px-6 py-4 text-sm text-gray-500"},us={class:"px-6 py-4"},xs=["onClick"],ps=X({__name:"AdminDatabase",setup(gs){const $=Y(),h=ot(),g=c("users"),V=c(""),u=c({totalUsers:0,totalPosts:0,totalPlans:0,totalResources:0}),j=c(null),y=c([]),w=c([]),b=c([]),k=c([]),i=c({users:!1,posts:!1,plans:!1,resources:!1}),p=c({show:!1,message:"",type:"success"}),x=(s,e="success")=>{p.value={show:!0,message:s,type:e},setTimeout(()=>{p.value.show=!1},3e3)},v=c([{id:"users",name:"ç”¨æˆ·ç®¡ç†"},{id:"content",name:"å†…å®¹ç®¡ç†"},{id:"plans",name:"å­¦ä¹ è®¡åˆ’"},{id:"resources",name:"èµ„æºç®¡ç†"}]),P=()=>{V.value=new Date().toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})},H=()=>{try{const s=localStorage.getItem("currentUser");s&&(j.value=JSON.parse(s))}catch(s){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",s)}},I=async()=>{try{const s=await h.getClient();if(!s){console.error("æ•°æ®åº“è¿æ¥å¤±è´¥");return}console.log("å¼€å§‹åŠ è½½ç»Ÿè®¡æ•°æ®...");const{count:e,error:a}=await s.from("users").select("*",{count:"exact",head:!0});a&&console.error("ç”¨æˆ·ç»Ÿè®¡åŠ è½½å¤±è´¥:",a);const{count:D,error:o}=await s.from("community_posts").select("*",{count:"exact",head:!0});o&&console.error("å¸–å­ç»Ÿè®¡åŠ è½½å¤±è´¥:",o);const{count:m,error:E}=await s.from("study_plans").select("*",{count:"exact",head:!0});E&&console.error("è®¡åˆ’ç»Ÿè®¡åŠ è½½å¤±è´¥:",E);const{count:Q,error:A}=await s.from("resources").select("*",{count:"exact",head:!0});A&&console.error("èµ„æºç»Ÿè®¡åŠ è½½å¤±è´¥:",A),u.value={totalUsers:e||0,totalPosts:D||0,totalPlans:m||0,totalResources:Q||0},v.value[0].count=u.value.totalUsers,v.value[1].count=u.value.totalPosts,v.value[2].count=u.value.totalPlans,v.value[3].count=u.value.totalResources,console.log("ç»Ÿè®¡æ•°æ®åŠ è½½å®Œæˆ:",u.value)}catch(s){console.error("åŠ è½½ç»Ÿè®¡æ•°æ®å¤±è´¥:",s)}},S=async()=>{i.value.users=!0;try{const s=await h.getClient();if(!s)return;console.log("å¼€å§‹åŠ è½½ç”¨æˆ·æ•°æ®...");const{data:e,error:a}=await s.from("users").select("*").order("created_at",{ascending:!1}).limit(50);a?console.error("åŠ è½½ç”¨æˆ·æ•°æ®å¤±è´¥:",a):(y.value=e||[],console.log("ç”¨æˆ·æ•°æ®åŠ è½½å®Œæˆ:",y.value.length,"æ¡è®°å½•"),y.value.length>0&&console.log("ç”¨æˆ·æ ·ä¾‹æ•°æ®:",y.value[0]))}catch(s){console.error("åŠ è½½ç”¨æˆ·æ•°æ®å¤±è´¥:",s)}finally{i.value.users=!1}},N=async()=>{i.value.posts=!0;try{const s=await h.getClient();if(!s)return;console.log("å¼€å§‹åŠ è½½å¸–å­æ•°æ®...");const{data:e,error:a}=await s.from("community_posts").select("*").order("created_at",{ascending:!1}).limit(50);a?console.error("åŠ è½½å¸–å­æ•°æ®å¤±è´¥:",a):(w.value=e||[],console.log("å¸–å­æ•°æ®åŠ è½½å®Œæˆ:",w.value.length,"æ¡è®°å½•"))}catch(s){console.error("åŠ è½½å¸–å­æ•°æ®å¤±è´¥:",s)}finally{i.value.posts=!1}},R=async()=>{i.value.plans=!0;try{const s=await h.getClient();if(!s)return;console.log("å¼€å§‹åŠ è½½å­¦ä¹ è®¡åˆ’æ•°æ®...");const{data:e,error:a}=await s.from("study_plans").select("*").order("created_at",{ascending:!1}).limit(50);a?console.error("åŠ è½½å­¦ä¹ è®¡åˆ’æ•°æ®å¤±è´¥:",a):(b.value=e||[],console.log("å­¦ä¹ è®¡åˆ’æ•°æ®åŠ è½½å®Œæˆ:",b.value.length,"æ¡è®°å½•"))}catch(s){console.error("åŠ è½½å­¦ä¹ è®¡åˆ’æ•°æ®å¤±è´¥:",s)}finally{i.value.plans=!1}},W=async()=>{i.value.resources=!0;try{const s=await h.getClient();if(!s)return;console.log("å¼€å§‹åŠ è½½èµ„æºæ•°æ®...");const{data:e,error:a}=await s.from("resources").select("*").order("created_at",{ascending:!1}).limit(50);a?console.error("åŠ è½½èµ„æºæ•°æ®å¤±è´¥:",a):(k.value=e||[],console.log("èµ„æºæ•°æ®åŠ è½½å®Œæˆ:",k.value.length,"æ¡è®°å½•"))}catch(s){console.error("åŠ è½½èµ„æºæ•°æ®å¤±è´¥:",s)}finally{i.value.resources=!1}},C=s=>new Date(s).toLocaleString("zh-CN"),U=s=>new Date(s).toLocaleDateString("zh-CN"),F=s=>{switch(s){case"programming":return"ç¼–ç¨‹";case"design":return"è®¾è®¡";case"language":return"è¯­è¨€å­¦ä¹ ";case"business":return"å•†ä¸š";case"science":return"ç§‘å­¦";default:return"å…¶ä»–"}},L=s=>{switch(s){case"video":return"è§†é¢‘";case"article":return"æ–‡ç« ";case"book":return"ä¹¦ç±";case"course":return"è¯¾ç¨‹";case"tool":return"å·¥å…·";case"website":return"ç½‘ç«™";default:return"å…¶ä»–"}},J=s=>{console.log("è·³è½¬åˆ°ç”¨æˆ·è¯¦æƒ…:",s),$.push(`/admin/user/${s}`)},G=s=>{if(console.log("ğŸ” å¸–å­è¯¦æƒ…æŒ‰é’®è¢«ç‚¹å‡»ï¼ˆåå°ç®¡ç†ï¼‰ï¼ŒID:",s),!s){console.error("âŒ å¸–å­IDä¸ºç©º"),x("é”™è¯¯ï¼šå¸–å­IDä¸ºç©º","error");return}const e=`/admin/post/${s}`;console.log("ğŸš€ å³å°†åœ¨æ–°çª—å£ä¸­æ‰“å¼€åå°ç®¡ç†è¯¦æƒ…:",e);try{window.open(e,"_blank")?console.log("âœ… åå°ç®¡ç†å¸–å­è¯¦æƒ…é¡µé¢æ‰“å¼€æˆåŠŸ"):(console.log("âŒ æ–°çª—å£æ‰“å¼€å¤±è´¥ï¼Œå¯èƒ½è¢«æµè§ˆå™¨é˜»æ­¢"),x("æ— æ³•æ‰“å¼€æ–°çª—å£ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨å¼¹çª—è®¾ç½®","error"))}catch(a){console.error("âŒ æ‰“å¼€åå°ç®¡ç†è¯¦æƒ…å¤±è´¥:",a),x("æ‰“å¼€è¯¦æƒ…é¡µé¢å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•","error")}},O=s=>{if(console.log("ğŸ” å­¦ä¹ è®¡åˆ’è¯¦æƒ…æŒ‰é’®è¢«ç‚¹å‡»ï¼ˆåå°ç®¡ç†ï¼‰ï¼ŒID:",s),!s){console.error("âŒ å­¦ä¹ è®¡åˆ’IDä¸ºç©º"),x("é”™è¯¯ï¼šå­¦ä¹ è®¡åˆ’IDä¸ºç©º","error");return}const e=`/admin/plan/${s}`;console.log("ğŸš€ å³å°†åœ¨æ–°çª—å£ä¸­æ‰“å¼€åå°ç®¡ç†è¯¦æƒ…:",e);try{window.open(e,"_blank")?console.log("âœ… åå°ç®¡ç†å­¦ä¹ è®¡åˆ’è¯¦æƒ…é¡µé¢æ‰“å¼€æˆåŠŸ"):(console.log("âŒ æ–°çª—å£æ‰“å¼€å¤±è´¥ï¼Œå¯èƒ½è¢«æµè§ˆå™¨é˜»æ­¢"),x("æ— æ³•æ‰“å¼€æ–°çª—å£ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨å¼¹çª—è®¾ç½®","error"))}catch(a){console.error("âŒ æ‰“å¼€åå°ç®¡ç†è¯¦æƒ…å¤±è´¥:",a),x("æ‰“å¼€è¯¦æƒ…é¡µé¢å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•","error")}},q=s=>{if(console.log("ğŸ” èµ„æºè¯¦æƒ…æŒ‰é’®è¢«ç‚¹å‡»ï¼ˆåå°ç®¡ç†ï¼‰ï¼ŒID:",s),!s){console.error("âŒ èµ„æºIDä¸ºç©º"),x("é”™è¯¯ï¼šèµ„æºIDä¸ºç©º","error");return}const e=`/admin/resource/${s}`;console.log("ğŸš€ å³å°†åœ¨æ–°çª—å£ä¸­æ‰“å¼€åå°ç®¡ç†è¯¦æƒ…:",e);try{window.open(e,"_blank")?console.log("âœ… åå°ç®¡ç†èµ„æºè¯¦æƒ…é¡µé¢æ‰“å¼€æˆåŠŸ"):(console.log("âŒ æ–°çª—å£æ‰“å¼€å¤±è´¥ï¼Œå¯èƒ½è¢«æµè§ˆå™¨é˜»æ­¢"),x("æ— æ³•æ‰“å¼€æ–°çª—å£ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨å¼¹çª—è®¾ç½®","error"))}catch(a){console.error("âŒ æ‰“å¼€åå°ç®¡ç†è¯¦æƒ…å¤±è´¥:",a),x("æ‰“å¼€è¯¦æƒ…é¡µé¢å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•","error")}},K=()=>{confirm("ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ")&&(localStorage.removeItem("currentUser"),window.location.href="/login")};let B;return Z(()=>{console.log("åå°ç³»ç»Ÿåˆå§‹åŒ–..."),H(),P(),I(),S(),B=setInterval(P,1e3)}),tt(()=>{B&&clearInterval(B)}),(s,e)=>{var a,D;return n(),l("div",rt,[p.value.show?(n(),l("div",{key:0,class:M(["fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 animate-pulse",p.value.type==="success"?"bg-green-600 text-white":p.value.type==="error"?"bg-red-600 text-white":"bg-blue-600 text-white"])},r(p.value.type==="success"?"âœ…":p.value.type==="error"?"âŒ":"â„¹ï¸")+" "+r(p.value.message),3)):d("",!0),t("header",nt,[t("div",lt,[t("div",at,[e[0]||(e[0]=t("div",{class:"flex items-center"},[t("h1",{class:"text-xl font-bold text-gray-900"},"EduMatch åå°ç®¡ç†ç³»ç»Ÿ"),t("span",{class:"ml-3 px-2 py-1 text-xs font-medium bg-blue-100 text-blue-600 rounded-full"}," Admin Panel ")],-1)),t("div",it,[t("div",dt," ç®¡ç†å‘˜ï¼š"+r(((a=j.value)==null?void 0:a.nickname)||((D=j.value)==null?void 0:D.email)||"Admin"),1),t("div",ct,r(V.value),1),t("button",{onClick:K,class:"px-3 py-2 text-sm text-red-600 hover:text-red-900 transition-colors"}," é€€å‡ºç™»å½• ")])])])]),t("main",ut,[t("div",xt,[t("div",pt,[t("div",gt,[e[2]||(e[2]=t("div",{class:"p-3 bg-blue-100 rounded-lg"},[t("svg",{class:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v-1m0 0a6 6 0 00-12 0v1m0 0V9a4 4 0 1112 0v-1m6 0a3 3 0 100-6 0v1m0 0a3 3 0 10-6 0v1"})])],-1)),t("div",yt,[e[1]||(e[1]=t("p",{class:"text-sm font-medium text-gray-600"},"æ€»ç”¨æˆ·æ•°",-1)),t("p",mt,r(u.value.totalUsers),1)])])]),t("div",ht,[t("div",vt,[e[4]||(e[4]=t("div",{class:"p-3 bg-green-100 rounded-lg"},[t("svg",{class:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v12a2 2 0 01-2 2z"})])],-1)),t("div",ft,[e[3]||(e[3]=t("p",{class:"text-sm font-medium text-gray-600"},"æ€»å¸–å­æ•°",-1)),t("p",_t,r(u.value.totalPosts),1)])])]),t("div",wt,[t("div",bt,[e[6]||(e[6]=t("div",{class:"p-3 bg-purple-100 rounded-lg"},[t("svg",{class:"h-6 w-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})])],-1)),t("div",kt,[e[5]||(e[5]=t("p",{class:"text-sm font-medium text-gray-600"},"å­¦ä¹ è®¡åˆ’",-1)),t("p",Ct,r(u.value.totalPlans),1)])])]),t("div",Dt,[t("div",Mt,[e[8]||(e[8]=t("div",{class:"p-3 bg-orange-100 rounded-lg"},[t("svg",{class:"h-6 w-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])],-1)),t("div",jt,[e[7]||(e[7]=t("p",{class:"text-sm font-medium text-gray-600"},"å­¦ä¹ èµ„æº",-1)),t("p",Bt,r(u.value.totalResources),1)])])])]),t("div",zt,[t("div",Vt,[t("nav",Pt,[(n(!0),l(f,null,_(v.value,o=>(n(),l("button",{key:o.id,onClick:m=>g.value=o.id,class:M(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",g.value===o.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[t("div",Ut,[t("span",Et,[o.id==="users"?(n(),l("svg",At,[...e[9]||(e[9]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v-1m0 0a6 6 0 00-12 0v1m0 0V9a4 4 0 1112 0v-1m6 0a3 3 0 100-6 0v1m0 0a3 3 0 10-6 0v1"},null,-1)])])):o.id==="content"?(n(),l("svg",Tt,[...e[10]||(e[10]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)])])):o.id==="plans"?(n(),l("svg",$t,[...e[11]||(e[11]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])])):o.id==="resources"?(n(),l("svg",Ht,[...e[12]||(e[12]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"},null,-1)])])):d("",!0)]),T(" "+r(o.name)+" ",1),o.count?(n(),l("span",It,r(o.count),1)):d("",!0)])],10,St))),128))])]),t("div",Nt,[g.value==="users"?(n(),l("div",Rt,[t("div",Wt,[e[13]||(e[13]=t("h3",{class:"text-lg font-semibold text-gray-900"},"ç”¨æˆ·ç®¡ç†",-1)),t("button",{onClick:S,disabled:i.value.users,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"},r(i.value.users?"åŠ è½½ä¸­...":"åˆ·æ–°ç”¨æˆ·æ•°æ®"),9,Ft)]),t("div",Lt,[t("table",Jt,[e[17]||(e[17]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ç”¨æˆ·ä¿¡æ¯"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"æ³¨å†Œæ—¶é—´"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ä¸ªæ€§ç­¾å"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"çŠ¶æ€")])],-1)),t("tbody",Gt,[i.value.users?(n(),l("tr",Ot,[...e[14]||(e[14]=[t("td",{colspan:"4",class:"px-4 py-8 text-center text-gray-500"},[t("div",{class:"flex items-center justify-center"},[t("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"}),T(" åŠ è½½ç”¨æˆ·æ•°æ®ä¸­... ")])],-1)])])):y.value.length===0?(n(),l("tr",qt,[...e[15]||(e[15]=[t("td",{colspan:"4",class:"px-4 py-8 text-center text-gray-500"},"æš‚æ— ç”¨æˆ·æ•°æ®",-1)])])):d("",!0),(n(!0),l(f,null,_(y.value,o=>(n(),l("tr",{key:o.id,class:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:m=>J(o.id)},[t("td",Qt,[t("div",Xt,[t("div",Yt,[t("div",Zt,[t("span",te,r((o.nickname||"U").charAt(0).toUpperCase()),1)])]),t("div",ee,[t("div",se,r(o.nickname||"æœªè®¾ç½®æ˜µç§°"),1),t("div",oe,"ID: "+r(o.id),1),o.role?(n(),l("div",{key:0,class:M(["inline-flex items-center px-2 py-0.5 rounded text-xs font-medium mt-1",o.role==="admin"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"])},r(o.role==="admin"?"ç®¡ç†å‘˜":"æ™®é€šç”¨æˆ·"),3)):d("",!0)])])]),t("td",re,[t("div",ne,r(C(o.created_at)),1)]),t("td",le,[t("div",ae,r(o.bio||"æš‚æ— ä¸ªæ€§ç­¾å"),1)]),t("td",ie,[t("div",de,[t("span",{class:M(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",o.email_confirmed_at?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},r(o.email_confirmed_at?"å·²æ¿€æ´»":"æœªæ¿€æ´»"),3),e[16]||(e[16]=t("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))])])],8,Kt))),128))])])])])):d("",!0),g.value==="content"?(n(),l("div",ce,[t("div",ue,[e[18]||(e[18]=t("h3",{class:"text-lg font-semibold text-gray-900"},"å†…å®¹ç®¡ç†",-1)),t("button",{onClick:N,disabled:i.value.posts,class:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50"},r(i.value.posts?"åŠ è½½ä¸­...":"åˆ·æ–°å¸–å­æ•°æ®"),9,xe)]),t("div",pe,[t("table",ge,[e[23]||(e[23]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"æ ‡é¢˜"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ä½œè€…"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"åˆ†ç±»"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"çŠ¶æ€"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ç»Ÿè®¡"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"å‘å¸ƒæ—¶é—´"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"æ“ä½œ")])],-1)),t("tbody",ye,[i.value.posts?(n(),l("tr",me,[...e[19]||(e[19]=[t("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"},"åŠ è½½å¸–å­æ•°æ®ä¸­...",-1)])])):w.value.length===0?(n(),l("tr",he,[...e[20]||(e[20]=[t("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"},"æš‚æ— å¸–å­æ•°æ®",-1)])])):d("",!0),(n(!0),l(f,null,_(w.value,o=>(n(),l("tr",{key:o.id,class:"hover:bg-gray-50"},[t("td",ve,[t("div",fe,r(o.title),1)]),t("td",_e,r(o.user_id),1),t("td",we,[t("span",be,r(o.category||"å…¶ä»–"),1)]),e[22]||(e[22]=t("td",{class:"px-6 py-4"},[t("span",{class:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800"}," å·²å‘å¸ƒ ")],-1)),t("td",ke," â¤ï¸"+r(o.likes_count||0)+" ğŸ’¬"+r(o.comments_count||0),1),t("td",Ce,r(C(o.created_at)),1),t("td",De,[t("button",{onClick:z(m=>G(o.id),["stop"]),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 p-2 rounded hover:bg-gray-100 transition-colors",title:"æŸ¥çœ‹è¯¦æƒ…",style:{cursor:"pointer","pointer-events":"auto"}},[...e[21]||(e[21]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,Me)])]))),128))])])])])):d("",!0),g.value==="plans"?(n(),l("div",je,[t("div",Be,[e[24]||(e[24]=t("h3",{class:"text-lg font-semibold text-gray-900"},"å­¦ä¹ è®¡åˆ’ç®¡ç†",-1)),t("button",{onClick:R,disabled:i.value.plans,class:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50"},r(i.value.plans?"åŠ è½½ä¸­...":"åˆ·æ–°è®¡åˆ’æ•°æ®"),9,ze)]),t("div",Ve,[t("table",Pe,[e[29]||(e[29]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"è®¡åˆ’æ ‡é¢˜"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"åˆ›å»ºè€…"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"è¿›åº¦"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"çŠ¶æ€"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"æ—¶é—´èŒƒå›´"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"åˆ›å»ºæ—¶é—´"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"æ“ä½œ")])],-1)),t("tbody",Se,[i.value.plans?(n(),l("tr",Ue,[...e[25]||(e[25]=[t("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"},"åŠ è½½è®¡åˆ’æ•°æ®ä¸­...",-1)])])):b.value.length===0?(n(),l("tr",Ee,[...e[26]||(e[26]=[t("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"},"æš‚æ— è®¡åˆ’æ•°æ®",-1)])])):d("",!0),(n(!0),l(f,null,_(b.value,o=>(n(),l("tr",{key:o.id,class:"hover:bg-gray-50"},[t("td",Ae,[t("div",Te,r(o.title),1)]),t("td",$e,r(o.user_id),1),t("td",He,[t("div",Ie,[t("div",Ne,[t("div",Re,[t("span",We,r(o.progress||0)+"% ",1)]),t("div",Fe,[t("div",{class:"bg-blue-600 h-2 rounded-full",style:et({width:`${o.progress||0}%`})},null,4)])])])]),e[28]||(e[28]=t("td",{class:"px-6 py-4"},[t("span",{class:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800"}," è¿›è¡Œä¸­ ")],-1)),t("td",Le,r(U(o.start_date))+" - "+r(U(o.end_date)),1),t("td",Je,r(C(o.created_at)),1),t("td",Ge,[t("button",{onClick:z(m=>O(o.id),["stop"]),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 p-2 rounded hover:bg-gray-100 transition-colors",title:"æŸ¥çœ‹è¯¦æƒ…",style:{cursor:"pointer","pointer-events":"auto"}},[...e[27]||(e[27]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,Oe)])]))),128))])])])])):d("",!0),g.value==="resources"?(n(),l("div",qe,[t("div",Ke,[e[30]||(e[30]=t("h3",{class:"text-lg font-semibold text-gray-900"},"èµ„æºç®¡ç†",-1)),t("button",{onClick:W,disabled:i.value.resources,class:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 disabled:opacity-50"},r(i.value.resources?"åŠ è½½ä¸­...":"åˆ·æ–°èµ„æºæ•°æ®"),9,Qe)]),t("div",Xe,[t("table",Ye,[e[34]||(e[34]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"èµ„æºæ ‡é¢˜"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"åˆ†ç±»"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ç±»å‹"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"å‘å¸ƒè€…"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"ç»Ÿè®¡"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"æ·»åŠ æ—¶é—´"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"æ“ä½œ")])],-1)),t("tbody",Ze,[i.value.resources?(n(),l("tr",ts,[...e[31]||(e[31]=[t("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"},"åŠ è½½èµ„æºæ•°æ®ä¸­...",-1)])])):k.value.length===0?(n(),l("tr",es,[...e[32]||(e[32]=[t("td",{colspan:"7",class:"px-6 py-4 text-center text-gray-500"},"æš‚æ— èµ„æºæ•°æ®",-1)])])):d("",!0),(n(!0),l(f,null,_(k.value,o=>(n(),l("tr",{key:o.id,class:"hover:bg-gray-50"},[t("td",ss,[t("div",os,r(o.title),1)]),t("td",rs,[t("span",ns,r(F(o.category)),1)]),t("td",ls,[t("span",as,r(L(o.type)),1)]),t("td",is,r(o.user_id),1),t("td",ds," â¤ï¸"+r(o.likes_count||0)+" ğŸ‘ï¸"+r(o.views_count||0),1),t("td",cs,r(C(o.created_at)),1),t("td",us,[t("button",{onClick:z(m=>q(o.id),["stop"]),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 p-2 rounded hover:bg-gray-100 transition-colors",title:"æŸ¥çœ‹è¯¦æƒ…",style:{cursor:"pointer","pointer-events":"auto"}},[...e[33]||(e[33]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,xs)])]))),128))])])])])):d("",!0)])])])])}}});const vs=st(ps,[["__file","E:/å‰ç«¯åˆçº§è¯¾ç¨‹/program/EduMatch/src/views/AdminDatabase.vue"]]);export{vs as default};
