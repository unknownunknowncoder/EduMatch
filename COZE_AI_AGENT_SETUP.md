# 扣子智能体配置指南

## 🎯 智能体概览

你的EduMatch项目现在已经集成了扣子AI智能体，具备以下核心功能：

- ✅ **智能搜索** - 理解自然语言查询
- ✅ **精准匹配** - 在MOOC和B站知识库中查找相关资源  
- ✅ **智能排序** - 根据相关性、质量、适配度排序
- ✅ **个性化推荐** - 提供学习建议和相关关键词

## 🚀 快速配置步骤

### 1. 扣子平台配置

#### 1.1 创建智能体
1. 登录 [扣子平台](https://www.coze.cn/)
2. 点击"创建智能体"
3. 配置基本信息：
   ```
   智能体名称: 教育资源智能匹配助手
   智能体描述: 专为学习者提供精准的MOOC课程和B站视频推荐
   ```

#### 1.2 配置角色设定
在"角色设定"中填入：
```
你是一位专业的教育顾问AI助手，专门帮助用户找到最适合的学习资源。

知识库包含：
- 中国大学MOOC课程（名称、简介、大纲、难度、评分等）
- B站教育视频（标题、UP主、内容介绍、播放量、点赞数等）

工作流程：
1. 理解用户学习需求和背景
2. 从知识库中搜索相关资源
3. 按相关性和质量智能排序
4. 提供个性化推荐和学习建议

输出要求：
- 🎯 最推荐资源及理由
- 📚 2-3个备选资源
- 💡 个性化学习建议
```

#### 1.3 关联知识库
1. 在"知识库"部分添加你的两个知识库：
   - 中国大学MOOC课程库
   - B站教育视频库

2. 设置检索参数：
   ```
   检索数量: 20条
   相似度阈值: 0.6
   启用重排序: 是
   ```

### 2. 获取配置信息

#### 2.1 API密钥
1. 在扣子平台进入"API设置"
2. 获取你的API密钥
3. 复制到项目的 `.env` 文件中

#### 2.2 知识库ID
1. 在知识库管理页面找到你的知识库ID
2. 分别记录MOOC和B站的ID
3. 添加到 `.env` 文件中

#### 2.3 智能体ID
1. 在智能体详情页面获取Bot ID
2. 添加到 `.env` 文件中

### 3. 项目环境配置

#### 3.1 创建环境变量文件
```bash
# 复制示例文件
cp .env.example .env
```

#### 3.2 填写配置信息
在 `.env` 文件中填写：
```env
# 扣子API配置
VITE_COZE_API_KEY=your_actual_api_key
VITE_COZE_MOOC_KB_ID=your_mooc_knowledge_base_id  
VITE_COZE_BILIBILI_KB_ID=your_bilibili_knowledge_base_id
VITE_COZE_BOT_ID=your_bot_id
```

## 🧪 测试验证

### 1. 前端测试
1. 启动项目：`npm run dev`
2. 打开首页，点击搜索框
3. 输入测试查询，如：
   - "Vue.js 前端开发"
   - "Python 数据分析入门"
   - "零基础学机器学习"

### 2. API测试
创建测试脚本验证API连接：
```javascript
// test-coze-ai.js
import { cozeAIService } from './src/services/coze-ai.js'

const testSearch = async () => {
  try {
    const result = await cozeAIService.searchResources({
      query: 'Vue.js 前端开发',
      userLevel: 'beginner'
    })
    
    console.log('AI推荐结果:', result)
  } catch (error) {
    console.error('测试失败:', error)
  }
}

testSearch()
```

## 📊 功能特性说明

### AI智能匹配算法
```
匹配分数计算:
- 相关性得分 (40%): 基于关键词匹配和语义相似度
- 资源质量评分 (30%): 用户评分、平台权威性
- 用户学习适配度 (20%): 难度匹配、学习目标契合
- 热门程度 (10%): 播放量、点赞数、讨论热度
```

### 搜索结果展示
1. **最推荐资源** - 突出显示最佳匹配
2. **其他推荐** - 备选优质资源
3. **学习建议** - AI生成的个性化建议
4. **相关搜索** - 扩展关键词

### 筛选功能
- **难度等级**: 初学者/进阶/高级
- **内容分类**: 前端/后端/AI/数据科学等
- **平台来源**: MOOC课程/B站视频

## 🔧 故障排除

### 常见问题

#### 1. API调用失败
- 检查API密钥是否正确
- 确认网络连接正常
- 验证扣子平台API权限

#### 2. 知识库无结果
- 检查知识库ID是否正确
- 确认知识库数据已导入
- 调整相似度阈值（建议0.5-0.7）

#### 3. 搜索质量不佳
- 优化知识库数据结构
- 调整智能体提示词
- 收集用户反馈持续优化

### 调试方法

#### 1. 浏览器开发者工具
```javascript
// 控制台查看API请求
cozeAIService.searchResources({
  query: '测试查询'
}).then(console.log)
```

#### 2. 网络请求监控
- 检查请求URL和参数
- 查看响应状态码和数据格式
- 验证环境变量是否正确加载

## 📈 优化建议

### 1. 数据质量提升
- 定期更新知识库数据
- 清理过时和低质量内容
- 标准化数据格式

### 2. 用户体验优化
- 添加搜索历史记录
- 实现收藏和学习进度追踪
- 提供个性化推荐

### 3. 性能优化
- 实现搜索结果缓存
- 优化API调用频率
- 添加加载状态和错误处理

---

🎉 **配置完成！**

现在你的EduMatch平台已经具备了强大的AI智能推荐功能。用户可以通过自然语言搜索，获得精准的教育资源推荐和个性化的学习建议。