<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”¨æˆ·è¯¦æƒ…é¡µæŸ¥çœ‹è¯¦æƒ…åŠŸèƒ½æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f7fa;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-button {
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            margin: 8px;
            font-weight: 500;
            transition: all 0.2s;
        }
        .post-button {
            background: #10b981;
            color: white;
        }
        .post-button:hover {
            background: #059669;
        }
        .plan-button {
            background: #8b5cf6;
            color: white;
        }
        .plan-button:hover {
            background: #7c3aed;
        }
        .resource-button {
            background: #f97316;
            color: white;
        }
        .resource-button:hover {
            background: #ea580c;
        }
        .admin-button {
            background: #3b82f6;
            color: white;
        }
        .admin-button:hover {
            background: #2563eb;
        }
        
        .card {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            background: #fafafa;
        }
        
        .card h3 {
            margin-top: 0;
            color: #374151;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 10px;
        }
        
        #log-output {
            background: #1f2937;
            color: #e5e7eb;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .log-entry {
            margin: 2px 0;
            padding: 2px 0;
        }
        .log-success { color: #10b981; }
        .log-error { color: #ef4444; }
        .log-info { color: #3b82f6; }
        .log-warning { color: #f59e0b; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ ç”¨æˆ·è¯¦æƒ…é¡µæŸ¥çœ‹è¯¦æƒ…åŠŸèƒ½æµ‹è¯•</h1>
        <p>æ­¤é¡µé¢ç”¨äºæµ‹è¯•ç”¨æˆ·è¯¦æƒ…ç®¡ç†å‘˜é¡µé¢ä¸­çš„æŸ¥çœ‹è¯¦æƒ…æŒ‰é’®åŠŸèƒ½</p>
        
        <div class="card">
            <h3>ğŸ“ å¸–å­è¯¦æƒ…æµ‹è¯•</h3>
            <p>æ¨¡æ‹Ÿç”¨æˆ·è¯¦æƒ…é¡µé¢ä¸­çš„å¸–å­æŸ¥çœ‹è¯¦æƒ…æŒ‰é’®</p>
            <button class="test-button post-button" onclick="testViewPost('test-post-123')">
                æŸ¥çœ‹å¸–å­è¯¦æƒ…
            </button>
            <button class="test-button post-button" onclick="testViewPost('148f3f63-700d-4f53-8bc1-4f37d49fc5f3')">
                æŸ¥çœ‹çœŸå®å¸–å­è¯¦æƒ…
            </button>
        </div>
        
        <div class="card">
            <h3>ğŸ“š å­¦ä¹ è®¡åˆ’è¯¦æƒ…æµ‹è¯•</h3>
            <p>æ¨¡æ‹Ÿç”¨æˆ·è¯¦æƒ…é¡µé¢ä¸­çš„å­¦ä¹ è®¡åˆ’æŸ¥çœ‹è¯¦æƒ…æŒ‰é’®</p>
            <button class="test-button plan-button" onclick="testViewPlan('test-plan-123')">
                æŸ¥çœ‹å­¦ä¹ è®¡åˆ’è¯¦æƒ…
            </button>
            <button class="test-button plan-button" onclick="testViewPlan('test-plan-456')">
                æŸ¥çœ‹çœŸå®è®¡åˆ’è¯¦æƒ…
            </button>
        </div>
        
        <div class="card">
            <h3>ğŸ”— èµ„æºè¯¦æƒ…æµ‹è¯•</h3>
            <p>æ¨¡æ‹Ÿç”¨æˆ·è¯¦æƒ…é¡µé¢ä¸­çš„èµ„æºæŸ¥çœ‹è¯¦æƒ…æŒ‰é’®</p>
            <button class="test-button resource-button" onclick="testViewResource('test-resource-123')">
                æŸ¥çœ‹èµ„æºè¯¦æƒ…
            </button>
            <button class="test-button resource-button" onclick="testViewResource('test-resource-456')">
                æŸ¥çœ‹çœŸå®èµ„æºè¯¦æƒ…
            </button>
        </div>
        
        <div class="card">
            <h3>ğŸš€ å¿«é€Ÿå¯¼èˆª</h3>
            <p>æ‰“å¼€ç›¸å…³é¡µé¢è¿›è¡Œæµ‹è¯•</p>
            <button class="test-button admin-button" onclick="openUserDetailPage()">
                æ‰“å¼€ç”¨æˆ·è¯¦æƒ…é¡µ
            </button>
            <button class="test-button admin-button" onclick="openAdminDatabase()">
                æ‰“å¼€åå°ç®¡ç†
            </button>
            <button class="test-button admin-button" onclick="clearLog()">
                æ¸…é™¤æ—¥å¿—
            </button>
        </div>
        
        <div id="log-output">
            <div class="log-entry log-info">ğŸ”§ æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆï¼Œç­‰å¾…æ“ä½œ...</div>
        </div>
    </div>

    <script>
        // æ—¥å¿—åŠŸèƒ½
        function log(message, type = 'info') {
            const logOutput = document.getElementById('log-output');
            const timestamp = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = `log-entry log-${type}`;
            entry.textContent = `[${timestamp}] ${message}`;
            logOutput.appendChild(entry);
            logOutput.scrollTop = logOutput.scrollHeight;
            console.log(`[${type.toUpperCase()}] ${message}`);
        }
        
        function clearLog() {
            document.getElementById('log-output').innerHTML = 
                '<div class="log-entry log-info">ğŸ”§ æ—¥å¿—å·²æ¸…é™¤ï¼Œç­‰å¾…æ–°çš„æµ‹è¯•...</div>';
        }
        
        // æµ‹è¯•æŸ¥çœ‹å¸–å­è¯¦æƒ…
        function testViewPost(postId) {
            log(`ğŸ” æµ‹è¯•æŸ¥çœ‹å¸–å­è¯¦æƒ…ï¼ŒID: ${postId}`, 'info');
            
            if (!postId) {
                log('âŒ å¸–å­IDä¸ºç©º', 'error');
                return;
            }
            
            const url = `/post/${postId}`;
            log(`ğŸš€ å³å°†åœ¨æ–°çª—å£ä¸­æ‰“å¼€: ${url}`, 'success');
            
            try {
                const newWindow = window.open(url, '_blank');
                if (newWindow) {
                    log('âœ… æ–°çª—å£æ‰“å¼€æˆåŠŸ', 'success');
                } else {
                    log('âŒ æ–°çª—å£æ‰“å¼€å¤±è´¥ï¼Œå¯èƒ½è¢«æµè§ˆå™¨é˜»æ­¢', 'error');
                }
            } catch (error) {
                log(`âŒ æ‰“å¼€çª—å£å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        // æµ‹è¯•æŸ¥çœ‹è®¡åˆ’è¯¦æƒ…
        function testViewPlan(planId) {
            log(`ğŸ” æµ‹è¯•æŸ¥çœ‹å­¦ä¹ è®¡åˆ’è¯¦æƒ…ï¼ŒID: ${planId}`, 'info');
            
            if (!planId) {
                log('âŒ å­¦ä¹ è®¡åˆ’IDä¸ºç©º', 'error');
                return;
            }
            
            const url = `/study-plan/${planId}`;
            log(`ğŸš€ å³å°†åœ¨æ–°çª—å£ä¸­æ‰“å¼€: ${url}`, 'success');
            
            try {
                const newWindow = window.open(url, '_blank');
                if (newWindow) {
                    log('âœ… æ–°çª—å£æ‰“å¼€æˆåŠŸ', 'success');
                } else {
                    log('âŒ æ–°çª—å£æ‰“å¼€å¤±è´¥ï¼Œå¯èƒ½è¢«æµè§ˆå™¨é˜»æ­¢', 'error');
                }
            } catch (error) {
                log(`âŒ æ‰“å¼€çª—å£å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        // æµ‹è¯•æŸ¥çœ‹èµ„æºè¯¦æƒ…
        function testViewResource(resourceId) {
            log(`ğŸ” æµ‹è¯•æŸ¥çœ‹èµ„æºè¯¦æƒ…ï¼ŒID: ${resourceId}`, 'info');
            
            if (!resourceId) {
                log('âŒ èµ„æºIDä¸ºç©º', 'error');
                return;
            }
            
            const url = `/resource/${resourceId}`;
            log(`ğŸš€ å³å°†åœ¨æ–°çª—å£ä¸­æ‰“å¼€: ${url}`, 'success');
            
            try {
                const newWindow = window.open(url, '_blank');
                if (newWindow) {
                    log('âœ… æ–°çª—å£æ‰“å¼€æˆåŠŸ', 'success');
                } else {
                    log('âŒ æ–°çª—å£æ‰“å¼€å¤±è´¥ï¼Œå¯èƒ½è¢«æµè§ˆå™¨é˜»æ­¢', 'error');
                }
            } catch (error) {
                log(`âŒ æ‰“å¼€çª—å£å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        // æ‰“å¼€ç”¨æˆ·è¯¦æƒ…é¡µé¢
        function openUserDetailPage() {
            log('ğŸš€ æ‰“å¼€ç”¨æˆ·è¯¦æƒ…é¡µé¢...', 'info');
            const url = 'http://localhost:3010/admin/user/test-user-id';
            
            try {
                window.open(url, '_blank');
                log('âœ… ç”¨æˆ·è¯¦æƒ…é¡µé¢æ‰“å¼€æˆåŠŸ', 'success');
            } catch (error) {
                log(`âŒ æ‰“å¼€ç”¨æˆ·è¯¦æƒ…é¡µé¢å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        // æ‰“å¼€åå°ç®¡ç†
        function openAdminDatabase() {
            log('ğŸš€ æ‰“å¼€åå°ç®¡ç†é¡µé¢...', 'info');
            const url = 'http://localhost:3010/admin';
            
            try {
                window.open(url, '_blank');
                log('âœ… åå°ç®¡ç†é¡µé¢æ‰“å¼€æˆåŠŸ', 'success');
            } catch (error) {
                log(`âŒ æ‰“å¼€åå°ç®¡ç†é¡µé¢å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆ
        document.addEventListener('DOMContentLoaded', function() {
            log('ğŸš€ æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ', 'success');
            log('ğŸ’¡ ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æµ‹è¯•æŸ¥çœ‹è¯¦æƒ…åŠŸèƒ½', 'info');
        });
    </script>
</body>
</html>